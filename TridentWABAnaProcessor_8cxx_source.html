<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hpstr: processors/src/TridentWABAnaProcessor.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">hpstr
   </div>
   <div id="projectbrief">The Heavy Photon Search Toolkit for Reconstruction (hpstr) provides an interface to physics data from the HPS experiment saved in the LCIO format and converts it into an ROOT based format.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function() { init_codefold(0); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4ac0cf52b60bedb296701740c5b274e6.html">processors</a></li><li class="navelem"><a class="el" href="dir_f51cfae32239c0a2b15b7972d5cbb270.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle"><div class="title">TridentWABAnaProcessor.cxx</div></div>
</div><!--header-->
<div class="contents">
<a href="TridentWABAnaProcessor_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="preprocessor">#include &quot;<a class="code" href="TridentWABAnaProcessor_8h.html">TridentWABAnaProcessor.h</a>&quot;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="preprocessor">#include &lt;utility&gt;</span> </div>
<div class="foldopen" id="foldopen00013" data-start="{" data-end="}">
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno"><a class="line" href="classTridentWABAnaProcessor.html#af32f4e04457c02b6482987d6bd03ab83">   13</a></span><a class="code hl_function" href="classTridentWABAnaProcessor.html#af32f4e04457c02b6482987d6bd03ab83">TridentWABAnaProcessor::TridentWABAnaProcessor</a>(<span class="keyword">const</span> std::string&amp; name, <a class="code hl_class" href="classProcess.html">Process</a>&amp; process) : <a class="code hl_class" href="classProcessor.html">Processor</a>(name,process) {</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span> </div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>}</div>
</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">//TODO Check this destructor</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno"><a class="line" href="classTridentWABAnaProcessor.html#a10d04e8d52c9a7c3a51a70f7cbeaf632">   19</a></span><a class="code hl_function" href="classTridentWABAnaProcessor.html#a10d04e8d52c9a7c3a51a70f7cbeaf632">TridentWABAnaProcessor::~TridentWABAnaProcessor</a>(){}</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="foldopen" id="foldopen00021" data-start="{" data-end="}">
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno"><a class="line" href="classTridentWABAnaProcessor.html#a28936b5e7dad5cac4572c2e47464519e">   21</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classTridentWABAnaProcessor.html#a28936b5e7dad5cac4572c2e47464519e">TridentWABAnaProcessor::configure</a>(<span class="keyword">const</span> <a class="code hl_class" href="classParameterSet.html">ParameterSet</a>&amp; parameters) {</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Configuring TridentWABAnaProcessor&quot;</span> &lt;&lt;std::endl;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>    <span class="keywordflow">try</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>    {</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>   = parameters.getInteger(<span class="stringliteral">&quot;debug&quot;</span>);</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a20b3987fa76a504a17245ed3a61974bb">anaName_</a> = parameters.getString(<span class="stringliteral">&quot;anaName&quot;</span>);</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    <span class="comment">//cluColl_ = parameters.getString(&quot;cluColl&quot;);</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    <span class="comment">//hitColl_ = parameters.getString(&quot;hitColl&quot;,hitColl_);</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>    <span class="comment">//  rawhitColl_ = parameters.getString(&quot;rawhitColl&quot;,rawhitColl_);</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ac0e83b5a237f86b528a7b2d655b0edd0">vtxColl_</a> = parameters.getString(<span class="stringliteral">&quot;vtxColl&quot;</span>);</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>        <span class="comment">//trkColl_ = parameters.getString(&quot;trkColl&quot;);</span></div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5b68f1e558dc935165bf5fa26558fd3c">mcColl_</a>  = parameters.getString(<span class="stringliteral">&quot;mcColl&quot;</span>,<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5b68f1e558dc935165bf5fa26558fd3c">mcColl_</a>);</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>    <span class="comment">//fspartColl_ = parameters.getString(&quot;fspartColl&quot;,fspartColl_);</span></div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a74bb9c9a3f1ae37d5632d4af7b7d480b">trkSelCfg_</a>   = parameters.getString(<span class="stringliteral">&quot;trkSelectionjson&quot;</span>);</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a1ed5227f413c18186aa2153fc1f540aa">selectionCfg_</a>   = parameters.getString(<span class="stringliteral">&quot;vtxSelectionjson&quot;</span>);</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a126254714212e383ba1b63fe0f6c17ab">histoCfg_</a> = parameters.getString(<span class="stringliteral">&quot;histoCfg&quot;</span>);</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab1f9d71fdbc5a92c1b2dc2d2338c9259">calTimeOffset_</a> = parameters.getDouble(<span class="stringliteral">&quot;CalTimeOffset&quot;</span>);</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a> = parameters.getDouble(<span class="stringliteral">&quot;TrkTimeOffset&quot;</span>);</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a604867cb1d9addaefe3f40757957b5ef">beamE_</a>  = parameters.getDouble(<span class="stringliteral">&quot;beamE&quot;</span>);</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#af22b6242d85db84b80b7f5d8bfa0d6ab">isData</a>  = parameters.getInteger(<span class="stringliteral">&quot;isData&quot;</span>);</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>        <span class="comment">//region definitions</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a47c38bd78e9b384f4056f6b7c981d9d0">regionSelections_</a> = parameters.getVString(<span class="stringliteral">&quot;regionDefinitions&quot;</span>);        </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a157ff2d43ff49f89e19898c85e4cd65b">regionWABSelections_</a> = parameters.getVString(<span class="stringliteral">&quot;regionWABDefinitions&quot;</span>);</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>        </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    }</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>    <span class="keywordflow">catch</span> (std::runtime_error&amp; error) </div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    {</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>        std::cout&lt;&lt;error.what()&lt;&lt;std::endl;</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>    }</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>}</div>
</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span> </div>
<div class="foldopen" id="foldopen00054" data-start="{" data-end="}">
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno"><a class="line" href="classTridentWABAnaProcessor.html#a4c88c2e0a2a6510211fbc4155ba12fd4">   54</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classTridentWABAnaProcessor.html#a4c88c2e0a2a6510211fbc4155ba12fd4">TridentWABAnaProcessor::initialize</a>(TTree* tree) {</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5953b7896f712a1cc6c7495d7f887fe3">tree_</a> = tree;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab15fdcabea699be7e584b77c7e0764fa">_ah</a> =  std::make_shared&lt;AnaHelpers&gt;();</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>=0;</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    std::cout&lt;&lt;<span class="stringliteral">&quot;Track Selection&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ad4b16ff352dc41754de5794223dccc88">trkSelector</a>  = std::make_shared&lt;BaseSelector&gt;(<span class="stringliteral">&quot;trkSelection&quot;</span>,<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a74bb9c9a3f1ae37d5632d4af7b7d480b">trkSelCfg_</a>);</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ad4b16ff352dc41754de5794223dccc88">trkSelector</a>-&gt;setDebug(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ad4b16ff352dc41754de5794223dccc88">trkSelector</a>-&gt;LoadSelection();</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        </div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>    std::cout&lt;&lt;<span class="stringliteral">&quot;Vertex Selection&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>  = std::make_shared&lt;BaseSelector&gt;(<span class="stringliteral">&quot;vtxSelection&quot;</span>,<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a1ed5227f413c18186aa2153fc1f540aa">selectionCfg_</a>);</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;setDebug(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>);</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;LoadSelection();</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>    std::cout&lt;&lt;<span class="stringliteral">&quot;Making histos&quot;</span>&lt;&lt;std::endl;  </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a> = std::make_shared&lt;TridentHistos&gt;(<span class="stringliteral">&quot;vtxSelection&quot;</span>);</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;debugMode(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>);</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;setBeamEnergy(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a604867cb1d9addaefe3f40757957b5ef">beamE_</a>);</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;loadHistoConfig(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a126254714212e383ba1b63fe0f6c17ab">histoCfg_</a>);</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;DefineHistos();</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    </div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    </div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>     <span class="comment">// //For each region initialize plots</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    std::cout&lt;&lt;<span class="stringliteral">&quot;Starting Regions&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i_reg = 0; i_reg &lt; <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a47c38bd78e9b384f4056f6b7c981d9d0">regionSelections_</a>.size(); i_reg++) {</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>       std::string regname = <a class="code hl_function" href="classAnaHelpers.html#ad2e16c52eb34eb9851bd01e93c355aff">AnaHelpers::getFileName</a>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a47c38bd78e9b384f4056f6b7c981d9d0">regionSelections_</a>[i_reg],<span class="keyword">false</span>);</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>       std::cout&lt;&lt;<span class="stringliteral">&quot;Setting up region:: &quot;</span> &lt;&lt; regname &lt;&lt;std::endl;   </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[regname] = std::make_shared&lt;BaseSelector&gt;(regname, <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a47c38bd78e9b384f4056f6b7c981d9d0">regionSelections_</a>[i_reg]);</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[regname]-&gt;setDebug(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>);</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[regname]-&gt;LoadSelection();</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>       </div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[regname] = std::make_shared&lt;TridentHistos&gt;(regname);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[regname]-&gt;setBeamEnergy(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a604867cb1d9addaefe3f40757957b5ef">beamE_</a>);</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[regname]-&gt;loadHistoConfig(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a126254714212e383ba1b63fe0f6c17ab">histoCfg_</a>);</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[regname]-&gt;DefineHistos();</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>       </div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#aa62ec30f7a8d55f692620c50c88ef052">_reg_tuples</a>[regname] = std::make_shared&lt;FlatTupleMaker&gt;(regname+<span class="stringliteral">&quot;_tree&quot;</span>);</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#aa62ec30f7a8d55f692620c50c88ef052">_reg_tuples</a>[regname]-&gt;addVariable(<span class="stringliteral">&quot;unc_vtx_mass&quot;</span>);</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#aa62ec30f7a8d55f692620c50c88ef052">_reg_tuples</a>[regname]-&gt;addVariable(<span class="stringliteral">&quot;unc_vtx_z&quot;</span>);</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>       </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#aefb2763c563df3f71d92e5f14aa7c1b4">_regions</a>.push_back(regname);</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>     }</div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>     </div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>      </div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i_reg = 0; i_reg &lt; <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a157ff2d43ff49f89e19898c85e4cd65b">regionWABSelections_</a>.size(); i_reg++) {</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>       std::string regname = <a class="code hl_function" href="classAnaHelpers.html#ad2e16c52eb34eb9851bd01e93c355aff">AnaHelpers::getFileName</a>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a157ff2d43ff49f89e19898c85e4cd65b">regionWABSelections_</a>[i_reg],<span class="keyword">false</span>);</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>       std::cout&lt;&lt;<span class="stringliteral">&quot;Setting up region:: &quot;</span> &lt;&lt; regname &lt;&lt;std::endl;   </div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a116385fc91d3f3866fc274d70da85acf">_reg_WAB_selectors</a>[regname] = std::make_shared&lt;BaseSelector&gt;(regname, <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a157ff2d43ff49f89e19898c85e4cd65b">regionWABSelections_</a>[i_reg]);</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a116385fc91d3f3866fc274d70da85acf">_reg_WAB_selectors</a>[regname]-&gt;setDebug(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>);</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a116385fc91d3f3866fc274d70da85acf">_reg_WAB_selectors</a>[regname]-&gt;LoadSelection();</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>       </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a662bcc9e195728c7b5f34dbd25a855d3">_reg_WAB_histos</a>[regname] = std::make_shared&lt;TridentHistos&gt;(regname);</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a662bcc9e195728c7b5f34dbd25a855d3">_reg_WAB_histos</a>[regname]-&gt;loadHistoConfig(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a126254714212e383ba1b63fe0f6c17ab">histoCfg_</a>);</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a662bcc9e195728c7b5f34dbd25a855d3">_reg_WAB_histos</a>[regname]-&gt;DefineHistos();</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>       </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>       <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a8d853ce177cc852efbb38e2c67023480">_regionsWAB</a>.push_back(regname);</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>     }</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="comment">//init Reading Tree</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>     <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5953b7896f712a1cc6c7495d7f887fe3">tree_</a>-&gt;SetBranchAddress(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#ac0e83b5a237f86b528a7b2d655b0edd0">vtxColl_</a>.c_str(), &amp;<a class="code hl_variable" href="classTridentWABAnaProcessor.html#ae135d50f6084fd455f4b29276e962442">vtxs_</a> , &amp;<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5b0f452eb17dca06d6ba6043ee9c4153">bvtxs_</a>);</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>     <span class="comment">//tree_-&gt;SetBranchAddress(fspartColl_.c_str(), &amp;fspart_ , &amp;bfspart_);</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>     <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5953b7896f712a1cc6c7495d7f887fe3">tree_</a>-&gt;SetBranchAddress(<span class="stringliteral">&quot;EventHeader&quot;</span>,&amp;<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a77aaec102d9409a1baeb8c7a2927a613">evth_</a> , &amp;<a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab37e72558f5c494d2a78777df326bbb7">bevth_</a>);</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>     <span class="comment">//tree_-&gt;SetBranchAddress(cluColl_.c_str(), &amp;clus_ , &amp;bclus_);</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>     <span class="comment">//tree_-&gt;SetBranchAddress(hitColl_.c_str(), &amp;hits_   , &amp;bhits_);</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>     <span class="comment">//tree_-&gt;SetBranchAddress(rawhitColl_.c_str(), &amp;rawhits_   , &amp;brawhits_);</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>     <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5953b7896f712a1cc6c7495d7f887fe3">tree_</a>-&gt;SetBranchAddress(<span class="stringliteral">&quot;TSBank&quot;</span>, &amp;<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a4c1a34d155508116d0a7207f93c2be15">tsdata_</a>   , &amp;<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5a220905ef15912943efe26db01a75de">btsdata_</a>);</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>     <span class="comment">//If track collection name is empty take the tracks from the particles. TODO:: change this</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>     <span class="comment">//if (!trkColl_.empty())</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>     <span class="comment">//  tree_-&gt;SetBranchAddress(trkColl_.c_str(),&amp;trks_, &amp;btrks_);</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>     <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#af22b6242d85db84b80b7f5d8bfa0d6ab">isData</a> &amp;&amp; !<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5b68f1e558dc935165bf5fa26558fd3c">mcColl_</a>.empty()) <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5953b7896f712a1cc6c7495d7f887fe3">tree_</a>-&gt;SetBranchAddress(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a5b68f1e558dc935165bf5fa26558fd3c">mcColl_</a>.c_str() , &amp;<a class="code hl_variable" href="classTridentWABAnaProcessor.html#af1e584f22035fa044343c8c4a09c42b8">mcParts_</a>, &amp;<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a7f60b036b91fb4a246a66b6c74fb3466">bmcParts_</a>);</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>     std::cout&lt;&lt;<span class="stringliteral">&quot;Done with TridentWABAnaProcessor::initialization&quot;</span>&lt;&lt;std::endl;; </div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span> </div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>}</div>
</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="foldopen" id="foldopen00128" data-start="{" data-end="}">
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno"><a class="line" href="classTridentWABAnaProcessor.html#a0ce1dcd521fc7f9b80998c309256f888">  128</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="classProcessor.html#a7017ddc30577ae1cdf3941090fe9f4b4">TridentWABAnaProcessor::process</a>(<a class="code hl_class" href="classIEvent.html">IEvent</a>* ievent) { </div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>    </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>    <a class="code hl_class" href="classHpsEvent.html">HpsEvent</a>* hps_evt = (<a class="code hl_class" href="classHpsEvent.html">HpsEvent</a>*) ievent;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>    <span class="keywordtype">double</span> weight = 1.;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="comment">//Get &quot;true&quot; mass</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>    <span class="keywordtype">double</span> apMass = -0.9;</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>    <span class="keywordtype">double</span> apZ = -0.9;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classTridentWABAnaProcessor.html#af1e584f22035fa044343c8c4a09c42b8">mcParts_</a>) {</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot;Number of MCParticles for this events = &quot;</span>&lt;&lt;<a class="code hl_variable" href="classTridentWABAnaProcessor.html#af1e584f22035fa044343c8c4a09c42b8">mcParts_</a>-&gt;size()&lt;&lt;std::endl;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>      <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="classTridentWABAnaProcessor.html#af1e584f22035fa044343c8c4a09c42b8">mcParts_</a>-&gt;size(); i++){</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#af1e584f22035fa044343c8c4a09c42b8">mcParts_</a>-&gt;at(i)-&gt;getPDG() == 622) {</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>                apMass = <a class="code hl_variable" href="classTridentWABAnaProcessor.html#af1e584f22035fa044343c8c4a09c42b8">mcParts_</a>-&gt;at(i)-&gt;getMass();</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>                apZ = <a class="code hl_variable" href="classTridentWABAnaProcessor.html#af1e584f22035fa044343c8c4a09c42b8">mcParts_</a>-&gt;at(i)-&gt;getVertexPosition().at(2);</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>            }</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>        }</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>    }</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>  </div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="comment">    int nElectrons=0;</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="comment">    int nPositrons=0;</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="comment">    if(trks_-&gt;size()&gt;0){</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span><span class="comment">      for(int i_trk; i_trk&lt;trks_-&gt;size();i_trk++){</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="comment">        Track* trk=trks_-&gt;at(i_trk);</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">        int ch=trk-&gt;getCharge();</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="comment">        if(ch==-1){</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="comment">          nElectrons++;</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="comment">        }else{</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="comment">          nPositrons++;</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span><span class="comment">        }         </span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span><span class="comment">      }</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="comment">    }</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="comment">    </span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="comment">    int nEleSideClusters=0;</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="comment">    int nPosSideClusters=0;</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="comment"></span> </div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="comment">    for(int i_clu=0; i_clu&lt;clus_-&gt;size(); i_clu++){</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="comment">      CalCluster* clu=clus_-&gt;at(i_clu);</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="comment">      double clX=clu-&gt;getPosition().at(0);</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="comment">      if(clX&gt;100.)</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="comment">        nPosSideClusters++; </span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span><span class="comment">      if(clX&lt;0)</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span><span class="comment">        nEleSideClusters++;</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="comment">    }</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="comment">    */</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>    std::vector&lt;Vertex*&gt; selected_tri;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>  </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="comment">//    std::cout&lt;&lt;&quot;Found &quot;&lt;&lt;vtxs_-&gt;size()&lt;&lt;&quot; Unconstrained Vertices&quot;&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="comment">//    std::cout&lt;&lt;&quot;Found &quot;&lt;&lt;matched_tri.size()&lt;&lt;&quot; Matched Vertices&quot;&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i_vtx = 0; i_vtx &lt; <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ae135d50f6084fd455f4b29276e962442">vtxs_</a>-&gt;size(); i_vtx++ ) {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        </div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;getCutFlowHisto()-&gt;Fill(0.,weight);</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span> </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        <a class="code hl_class" href="classVertex.html">Vertex</a>* vtx = <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ae135d50f6084fd455f4b29276e962442">vtxs_</a>-&gt;at(i_vtx);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>        <a class="code hl_class" href="classParticle.html">Particle</a>* ele = <span class="keyword">nullptr</span>;       </div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        <a class="code hl_class" href="classParticle.html">Particle</a>* pos = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span> </div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="comment">//        bool foundParts = _ah-&gt;GetParticlesFromVtxAndParticleList(*fspart_,vtx,ele,pos);</span></div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        <span class="keywordtype">bool</span> foundParts =  <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab15fdcabea699be7e584b77c7e0764fa">_ah</a>-&gt;GetParticlesFromVtx(vtx,ele,pos);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span> </div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)  std::cout&lt;&lt;<span class="stringliteral">&quot;Checking Particles&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        <span class="keywordflow">if</span> (!foundParts) {</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>      std::cout&lt;&lt;<span class="stringliteral">&quot;TridentWABAnaProcessor::WARNING::Found vtx without ele/pos. Skip.&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        }</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    <span class="comment">//        Trigger requirement - *really hate* having to do it here for each vertex.</span></div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)  std::cout&lt;&lt;<span class="stringliteral">&quot;Checking Trigger&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classTridentWABAnaProcessor.html#af22b6242d85db84b80b7f5d8bfa0d6ab">isData</a>) {</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutEq(<span class="stringliteral">&quot;Singles2or3_eq&quot;</span>,((<span class="keywordtype">int</span>)<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a4c1a34d155508116d0a7207f93c2be15">tsdata_</a>-&gt;<a class="code hl_variable" href="classTSData.html#a8a7c28e1b99dd3dbd404c2b2385454c1">prescaled</a>.<a class="code hl_variable" href="structTSData_1_1tsBits.html#a9a44e6a7d70b688ab3cbba7777c489c8">Single_2_Top</a>)||((<span class="keywordtype">int</span>)<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a4c1a34d155508116d0a7207f93c2be15">tsdata_</a>-&gt;<a class="code hl_variable" href="classTSData.html#a8a7c28e1b99dd3dbd404c2b2385454c1">prescaled</a>.<a class="code hl_variable" href="structTSData_1_1tsBits.html#a802fc27514d2d1268893f4a5e7526b8e">Single_2_Bot</a>),weight)){</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>            <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot;events didn&#39;t pass singles2, check single3&quot;</span>&lt;&lt;std::endl;          </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutEq(<span class="stringliteral">&quot;Singles2or3_eq&quot;</span>,((<span class="keywordtype">int</span>)<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a4c1a34d155508116d0a7207f93c2be15">tsdata_</a>-&gt;<a class="code hl_variable" href="classTSData.html#a8a7c28e1b99dd3dbd404c2b2385454c1">prescaled</a>.<a class="code hl_variable" href="structTSData_1_1tsBits.html#aa5707e1307125c300a6cd5d52cd3e30a">Single_3_Top</a>)||((<span class="keywordtype">int</span>)<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a4c1a34d155508116d0a7207f93c2be15">tsdata_</a>-&gt;<a class="code hl_variable" href="classTSData.html#a8a7c28e1b99dd3dbd404c2b2385454c1">prescaled</a>.<a class="code hl_variable" href="structTSData_1_1tsBits.html#aaa30a3c2b1d454c7d5c2b52dc2871db7">Single_3_Bot</a>),weight)){</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>              <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot;Skipping because event didn&#39;t pass singles2 or 3&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>              <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>            }</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>          }</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    }</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="comment">/*       </span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span><span class="comment">        Track ele_trk = ele-&gt;getTrack();  //wish these were still pointers to the track...why did this change? </span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span><span class="comment">        Track pos_trk = pos-&gt;getTrack();</span></div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span><span class="comment">    Track* ele_trk_from_list = _ah-&gt;GetTrackFromParticle(*trks_,ele);</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span><span class="comment">    Track* pos_trk_from_list = _ah-&gt;GetTrackFromParticle(*trks_,pos);</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span><span class="comment">    int n_hits_ele=ele_trk_from_list-&gt;getTrackerHitCount();</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span><span class="comment">        int n_hits_pos=pos_trk_from_list-&gt;getTrackerHitCount();</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span><span class="comment">    */</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <a class="code hl_class" href="classTrack.html">Track</a>* ele_trk=(<a class="code hl_class" href="classTrack.html">Track</a>*) ele-&gt;<a class="code hl_function" href="classParticle.html#a182dcd4ae447f8686da15c6c642be909">getTrack</a>().Clone();</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <a class="code hl_class" href="classTrack.html">Track</a>* pos_trk=(<a class="code hl_class" href="classTrack.html">Track</a>*) pos-&gt;<a class="code hl_function" href="classParticle.html#a182dcd4ae447f8686da15c6c642be909">getTrack</a>().Clone();</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="keywordtype">int</span> n_hits_ele=ele_trk-&gt;<a class="code hl_function" href="classTrack.html#a5464e097b969841cc8cd1f084421009e">getTrackerHitCount</a>();</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>        <span class="keywordtype">int</span> n_hits_pos=pos_trk-&gt;<a class="code hl_function" href="classTrack.html#a5464e097b969841cc8cd1f084421009e">getTrackerHitCount</a>();</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span> </div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <a class="code hl_class" href="classCalCluster.html">CalCluster</a> ele_clu=ele-&gt;<a class="code hl_function" href="classParticle.html#a2df46a275625b573e7d645b4e9707333">getCluster</a>();</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>    <a class="code hl_class" href="classCalCluster.html">CalCluster</a> pos_clu=pos-&gt;<a class="code hl_function" href="classParticle.html#a2df46a275625b573e7d645b4e9707333">getCluster</a>();</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span> </div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>        TVector3 ele_mom;</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        ele_mom.SetX(ele_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[0]);</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        ele_mom.SetY(ele_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[1]);</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>        ele_mom.SetZ(ele_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[2]);</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span> </div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>        TVector3 pos_mom;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>        pos_mom.SetX(pos_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[0]);</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        pos_mom.SetY(pos_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[1]);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        pos_mom.SetZ(pos_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[2]);</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span> </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Going through cuts &quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutGt(<span class="stringliteral">&quot;eleNHits_gt&quot;</span>,n_hits_ele,weight))</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutGt(<span class="stringliteral">&quot;posNHits_gt&quot;</span>,n_hits_pos,weight))</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Pass nHits for each track cut&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutLt(<span class="stringliteral">&quot;eleMom_lt&quot;</span>,ele_mom.Mag(),weight))</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Pass electron momentum cut&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>        <span class="comment">//Ele Track Quality</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutLt(<span class="stringliteral">&quot;eleTrkChi2_lt&quot;</span>,ele_trk-&gt;<a class="code hl_function" href="classTrack.html#a4f0ac38a52ef74d7167b02e514d2232d">getChi2Ndf</a>(),weight))</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>        <span class="comment">//Pos Track Quality</span></div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutLt(<span class="stringliteral">&quot;posTrkChi2_lt&quot;</span>,pos_trk-&gt;<a class="code hl_function" href="classTrack.html#a4f0ac38a52ef74d7167b02e514d2232d">getChi2Ndf</a>(),weight))</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Pass chi^2 for each track&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        <span class="comment">//Vertex Quality</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutLt(<span class="stringliteral">&quot;chi2unc_lt&quot;</span>,vtx-&gt;getChi2(),weight))</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Pass vertex chi2 cut&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span> </div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>        <span class="comment">//Ele min momentum cut</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutGt(<span class="stringliteral">&quot;eleMom_gt&quot;</span>,ele_mom.Mag(),weight))</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        <span class="comment">//Pos min momentum cut</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutGt(<span class="stringliteral">&quot;posMom_gt&quot;</span>,pos_mom.Mag(),weight))</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span> </div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Pass min p for each track &quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span> </div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span> </div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        <span class="comment">//Max vtx momentum</span></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutLt(<span class="stringliteral">&quot;maxVtxMom_lt&quot;</span>,(ele_mom+pos_mom).Mag(),weight))</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutGt(<span class="stringliteral">&quot;minVtxMom_gt&quot;</span>,(ele_mom+pos_mom).Mag(),weight))</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Pass vertex momentum cuts&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span> </div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span> </div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    <span class="keywordtype">double</span> corr_eleClusterTime=666;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <span class="keywordtype">double</span> corr_posClusterTime=666;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    </div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        corr_eleClusterTime = ele_clu.<a class="code hl_function" href="classCalCluster.html#afbffc04e39811037c7b7c79f29af16f5">getTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab1f9d71fdbc5a92c1b2dc2d2338c9259">calTimeOffset_</a>;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        corr_posClusterTime = pos_clu.<a class="code hl_function" href="classCalCluster.html#afbffc04e39811037c7b7c79f29af16f5">getTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab1f9d71fdbc5a92c1b2dc2d2338c9259">calTimeOffset_</a>;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        <span class="keywordtype">double</span> corr_eleTrackTime=-666;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        <span class="keywordtype">double</span> corr_posTrackTime=-666;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        corr_eleTrackTime=ele_trk-&gt;<a class="code hl_function" href="classTrack.html#a6d2ee48f7c51e78694ba3b331e202414">getTrackTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a>;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        corr_posTrackTime=pos_trk-&gt;<a class="code hl_function" href="classTrack.html#a6d2ee48f7c51e78694ba3b331e202414">getTrackTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a>;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span> </div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        <span class="keywordtype">bool</span> hasEleCluster=corr_eleClusterTime&gt;-300; <span class="comment">//this is kludgy but the default time is set at -9999 ns...anything &lt; ~ -100 ns means it was not filled...</span></div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        <span class="keywordtype">bool</span> hasPosCluster=corr_posClusterTime&gt;-300;       </div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    </div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        <span class="comment">//Ele Track Time        </span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutLt(<span class="stringliteral">&quot;eleTrkTime_lt&quot;</span>,fabs(corr_eleTrackTime),weight))</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>        <span class="comment">//Pos Track Time        </span></div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutLt(<span class="stringliteral">&quot;posTrkTime_lt&quot;</span>,fabs(corr_posTrackTime),weight))</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Pass track time cuts&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    </div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    <span class="comment">//Ele Track-Cluster Time Difference</span></div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    <span class="keywordflow">if</span>(hasEleCluster)</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutLt(<span class="stringliteral">&quot;eleTrkCluTimeDiff_lt&quot;</span>,fabs(corr_eleTrackTime - corr_eleClusterTime),weight))</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    <span class="comment">//Pos Track-Cluster Time Difference</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordflow">if</span>(hasPosCluster)</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutLt(<span class="stringliteral">&quot;posTrkCluTimeDiff_lt&quot;</span>,fabs(corr_posTrackTime - corr_posClusterTime),weight))</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Pass cluster match cuts&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <span class="comment">//Ele Pos Cluster Tme Difference</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    <span class="keywordflow">if</span>(hasEleCluster &amp;&amp; hasPosCluster)</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;passCutLt(<span class="stringliteral">&quot;eleposCluTimeDiff_lt&quot;</span>,fabs(corr_eleClusterTime - corr_posClusterTime),weight))</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span> </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Pass ele-pos cluster time difference...and that&#39;s it!&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span> </div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;Fill1DVertex(vtx,</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                                  ele,</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>                                  pos,</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                  ele_trk,</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                  pos_trk,</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                  <span class="comment">// ele_trk_from_list,</span></div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                                  <span class="comment">//pos_trk_from_list,</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                                  <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a>,</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                                  weight);</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Filled 1D vertex plots for vtx pre-selection &quot;</span>&lt;&lt;std::endl;       </div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;Fill2DHistograms(vtx,weight);</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;Fill2DTrack(ele_trk,weight,<span class="stringliteral">&quot;ele_&quot;</span>);</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;Fill2DTrack(pos_trk,weight,<span class="stringliteral">&quot;pos_&quot;</span>);    </div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Filled 2D vertex plots for vtx pre-selection &quot;</span>&lt;&lt;std::endl;       </div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;FillTrackClusterHistos(std::pair&lt;CalCluster,Track*&gt;(ele_clu,ele_trk),std::pair&lt;CalCluster,Track*&gt;(pos_clu,pos_trk),<a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab1f9d71fdbc5a92c1b2dc2d2338c9259">calTimeOffset_</a>,<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a>,weight);</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot; Filled track-cluster plots pre-selection &quot;</span>&lt;&lt;std::endl;       </div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>        selected_tri.push_back(vtx);       </div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;clearSelector();</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>    }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>    </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)    std::cout&lt;&lt;<span class="stringliteral">&quot;Found &quot;</span>&lt;&lt;selected_tri.size()&lt;&lt;<span class="stringliteral">&quot; Selected Vertices&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;Fill1DHisto(<span class="stringliteral">&quot;n_vertices_h&quot;</span>,selected_tri.size()); </div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span><span class="comment">    if (trks_){</span></div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span><span class="comment">      _vtx_histos-&gt;Fill1DHisto(&quot;n_tracks_h&quot;,trks_-&gt;size(),weight); </span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span><span class="comment">      _vtx_histos-&gt;Fill1DHisto(&quot;n_positrons_h&quot;,nPositrons,weight);</span></div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span><span class="comment">      _vtx_histos-&gt;Fill1DHisto(&quot;n_electrons_h&quot;,nElectrons,weight);</span></div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span><span class="comment">    }</span></div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span><span class="comment">      </span></div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span><span class="comment">    _vtx_histos-&gt;Fill1DHisto(&quot;n_pos_clusters_h&quot;,nPosSideClusters,weight);</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span><span class="comment">    _vtx_histos-&gt;Fill1DHisto(&quot;n_ele_clusters_h&quot;,nEleSideClusters,weight);</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span><span class="comment">    */</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    <span class="comment">//Make Plots for each region: loop on each region. Check if the region has the cut and apply it</span></div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span> </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> region : <a class="code hl_variable" href="classTridentWABAnaProcessor.html#aefb2763c563df3f71d92e5f14aa7c1b4">_regions</a> ) {</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>      <span class="keywordtype">int</span> nvertPass=0;</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>      std::vector&lt;Vertex*&gt; final_tri;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>      <span class="keywordflow">for</span> ( <span class="keyword">auto</span> cand : selected_tri) {</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    <span class="comment">//No cuts.</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[region]-&gt;getCutFlowHisto()-&gt;Fill(0.,weight);</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="comment">// get objects we need for this candidate</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <a class="code hl_class" href="classVertex.html">Vertex</a>* vtx = cand;</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <a class="code hl_class" href="classParticle.html">Particle</a>* ele = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <a class="code hl_class" href="classParticle.html">Particle</a>* pos = <span class="keyword">nullptr</span>;        </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <span class="keywordtype">bool</span> foundParts = <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab15fdcabea699be7e584b77c7e0764fa">_ah</a>-&gt;GetParticlesFromVtx(vtx,ele,pos);</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>    <span class="comment">//        bool foundParts = _ah-&gt;GetParticlesFromVtxAndParticleList(*fspart_,vtx,ele,pos);</span></div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)  std::cout&lt;&lt;<span class="stringliteral">&quot;Checking Particles&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>        <span class="keywordflow">if</span> (!foundParts) {</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>      std::cout&lt;&lt;<span class="stringliteral">&quot;TridentWABAnaProcessor::WARNING::Found vtx without ele/pos. Skip.&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        }        </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    <a class="code hl_class" href="classTrack.html">Track</a>* ele_trk =(<a class="code hl_class" href="classTrack.html">Track</a>*)  ele-&gt;<a class="code hl_function" href="classParticle.html#a182dcd4ae447f8686da15c6c642be909">getTrack</a>().Clone();</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <a class="code hl_class" href="classTrack.html">Track</a>* pos_trk =(<a class="code hl_class" href="classTrack.html">Track</a>*)  pos-&gt;<a class="code hl_function" href="classParticle.html#a182dcd4ae447f8686da15c6c642be909">getTrack</a>().Clone();</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span> </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>        <a class="code hl_class" href="classCalCluster.html">CalCluster</a> ele_clu=ele-&gt;<a class="code hl_function" href="classParticle.html#a2df46a275625b573e7d645b4e9707333">getCluster</a>(); </div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        <a class="code hl_class" href="classCalCluster.html">CalCluster</a> pos_clu=pos-&gt;<a class="code hl_function" href="classParticle.html#a2df46a275625b573e7d645b4e9707333">getCluster</a>();</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <span class="comment">//Compute analysis variables here.        </span></div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    <span class="keywordtype">double</span> ele_E = ele-&gt;<a class="code hl_function" href="classParticle.html#a5a4d737018dabc54f3e1974aeb87359c">getEnergy</a>();</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    <span class="keywordtype">double</span> pos_E = pos-&gt;<a class="code hl_function" href="classParticle.html#a5a4d737018dabc54f3e1974aeb87359c">getEnergy</a>();</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    </div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    TVector3 ele_mom;</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>    ele_mom.SetX(ele_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[0]);</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    ele_mom.SetY(ele_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[1]);</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    ele_mom.SetZ(ele_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[2]);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    TVector3 pos_mom;</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    pos_mom.SetX(pos_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[0]);</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    pos_mom.SetY(pos_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[1]);</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    pos_mom.SetZ(pos_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>()[2]);</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[region]-&gt;passCutGt(<span class="stringliteral">&quot;radMom_gt&quot;</span>,(ele_mom+pos_mom).Mag()/<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a604867cb1d9addaefe3f40757957b5ef">beamE_</a>,weight))</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span><span class="comment">        if (!_reg_vtx_selectors[region]-&gt;passCutLt(&quot;nPosTracks_lt&quot;,nPositrons,weight))</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span><span class="comment">          continue ;</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span><span class="comment">        if (!_reg_vtx_selectors[region]-&gt;passCutLt(&quot;nEleTracks_lt&quot;,nElectrons,weight))</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="comment">          continue; </span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span><span class="comment"></span> </div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span><span class="comment">        if (!_reg_vtx_selectors[region]-&gt;passCutEq(&quot;nPosSideClusters_eq&quot;,nPosSideClusters,weight))</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span><span class="comment">          continue; </span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span><span class="comment">        if (!_reg_vtx_selectors[region]-&gt;passCutEq(&quot;nEleSideClusters_eq&quot;,nEleSideClusters,weight))</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span><span class="comment">          continue; </span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span><span class="comment">    */</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    <span class="comment">/* turn off matching for now...</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span><span class="comment">    if(!isData){</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span><span class="comment">      std::pair&lt;Track*,MCParticle*&gt; eleMCMatch=matchToMCParticle(ele_trk,*mcParts_);</span></div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span><span class="comment">      std::pair&lt;Track*,MCParticle*&gt; posMCMatch=matchToMCParticle(pos_trk,*mcParts_);</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span><span class="comment">      if(!_reg_vtx_selectors[region]-&gt;passCutEq(&quot;eleMCMatched&quot;,eleMCMatch.second!=NULL,weight))</span></div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span><span class="comment">        continue;</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span><span class="comment">      if(!_reg_vtx_selectors[region]-&gt;passCutEq(&quot;posMCMatched&quot;,posMCMatch.second!=NULL,weight))</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span><span class="comment">        continue;</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span><span class="comment">      //check if MC matched particles are from gamma*   </span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span><span class="comment">      bool isRadEle=false;</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span><span class="comment">      bool isRadPos=false;</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span><span class="comment">      if(eleMCMatch.second!=NULL){</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span><span class="comment">        isRadEle=eleMCMatch.second-&gt;getMomPDG()==622;</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span><span class="comment">        if(isRadEle &amp;&amp; debug_)</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span><span class="comment">          std::cout&lt;&lt;&quot;Found radiative electron&quot;&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span><span class="comment">      }</span></div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span><span class="comment">      if(posMCMatch.second!=NULL){</span></div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span><span class="comment">        isRadPos=posMCMatch.second-&gt;getMomPDG()==622;</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span><span class="comment">        if(isRadEle&amp;&amp;debug_)</span></div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span><span class="comment">          std::cout&lt;&lt;&quot;Found radiative positron&quot;&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span><span class="comment">      }</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span><span class="comment">      if(!_reg_vtx_selectors[region]-&gt;passCutEq(&quot;eleMCGammaSt&quot;,isRadEle,weight))</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span><span class="comment">        continue;</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span><span class="comment">      if(!_reg_vtx_selectors[region]-&gt;passCutEq(&quot;posMCGammaSt&quot;,isRadPos,weight))</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span><span class="comment">        continue;</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span><span class="comment">    }</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span><span class="comment">    */</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    <span class="keywordtype">double</span> corr_eleClusterTime=666;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="keywordtype">double</span> corr_posClusterTime=666;</div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    </div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>        corr_eleClusterTime = ele_clu.<a class="code hl_function" href="classCalCluster.html#afbffc04e39811037c7b7c79f29af16f5">getTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab1f9d71fdbc5a92c1b2dc2d2338c9259">calTimeOffset_</a>;</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>        corr_posClusterTime = pos_clu.<a class="code hl_function" href="classCalCluster.html#afbffc04e39811037c7b7c79f29af16f5">getTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab1f9d71fdbc5a92c1b2dc2d2338c9259">calTimeOffset_</a>;</div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span> </div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>        <span class="keywordtype">double</span> corr_eleTrackTime=-666;</div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        <span class="keywordtype">double</span> corr_posTrackTime=-666;</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>        </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        corr_eleTrackTime=ele_trk-&gt;<a class="code hl_function" href="classTrack.html#a6d2ee48f7c51e78694ba3b331e202414">getTrackTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a>;</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>        corr_posTrackTime=pos_trk-&gt;<a class="code hl_function" href="classTrack.html#a6d2ee48f7c51e78694ba3b331e202414">getTrackTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a>;</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>        <span class="keywordtype">bool</span> hasEleCluster=corr_eleClusterTime&gt;-300; <span class="comment">//this is kludgy but the default time is set at -9999 ns...anything &lt; ~ -100 ns means it was not filled...</span></div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>        <span class="keywordtype">bool</span> hasPosCluster=corr_posClusterTime&gt;-300;</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[region]-&gt;passCutEq(<span class="stringliteral">&quot;eleClusterMatched&quot;</span>,hasEleCluster,weight))</div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[region]-&gt;passCutEq(<span class="stringliteral">&quot;posClusterMatched&quot;</span>,hasPosCluster,weight))</div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span>            </div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span>    <span class="keywordtype">bool</span> foundL1ele = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span>    <span class="keywordtype">bool</span> foundL2ele = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span>    <span class="comment">//  Track* ele_trk_from_list = _ah-&gt;GetTrackFromParticle(*trks_,ele);</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span>    <span class="comment">//  Track* pos_trk_from_list = _ah-&gt;GetTrackFromParticle(*trks_,pos);</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab15fdcabea699be7e584b77c7e0764fa">_ah</a>-&gt;InnermostLayerCheck(ele_trk, foundL1ele, foundL2ele);   </div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>        </div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>    <span class="keywordtype">bool</span> foundL1pos = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>    <span class="keywordtype">bool</span> foundL2pos = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab15fdcabea699be7e584b77c7e0764fa">_ah</a>-&gt;InnermostLayerCheck(pos_trk, foundL1pos, foundL2pos);  </div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>        </div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>    <span class="keywordtype">int</span> layerCombo=-1;</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>    <span class="keywordflow">if</span> (foundL1pos&amp;&amp;foundL1ele) <span class="comment">//L1L1</span></div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>      layerCombo=1;</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    <span class="keywordflow">if</span>(!foundL1pos&amp;&amp;foundL2pos&amp;&amp;foundL1ele)<span class="comment">//L2L1</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span>      layerCombo=2;</div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <span class="keywordflow">if</span>(foundL1pos&amp;&amp;!foundL1ele&amp;&amp;foundL2ele)<span class="comment">//L1L2 </span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span>      layerCombo=3;</div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span>    <span class="keywordflow">if</span>(!foundL1pos&amp;&amp;foundL2pos&amp;&amp;!foundL1ele&amp;&amp;foundL2ele)<span class="comment">//L2L2</span></div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span>      layerCombo=4;</div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span>        </div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[region]-&gt;passCutEq(<span class="stringliteral">&quot;LayerRequirement&quot;</span>,layerCombo,weight))</div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot;passed layer cut layer combo = &quot;</span>&lt;&lt;layerCombo&lt;&lt;std::endl;     </div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[region]-&gt;passCutEq(<span class="stringliteral">&quot;ele_FoundL2&quot;</span>,foundL2ele,weight))</div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[region]-&gt;passCutEq(<span class="stringliteral">&quot;pos_FoundL2&quot;</span>,foundL2pos,weight))</div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span>          <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span>    nvertPass++;  <span class="comment">//this vertex passed all cuts (expect nVtx cut...)</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span>    <span class="comment">//N selected vertices - this is quite a silly cut to make at the end. But okay. that&#39;s how we decided atm.</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span>        <span class="comment">// actually, pick random vertex belore</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span>    final_tri.push_back(vtx);</div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span> </div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>      }<span class="comment">// preselected vertices</span></div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span> </div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[region]-&gt;Fill1DHisto(<span class="stringliteral">&quot;n_vertices_h&quot;</span>,selected_tri.size(),weight);</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[region]-&gt;Fill1DHisto(<span class="stringliteral">&quot;n_vertices_passallcuts_h&quot;</span>,nvertPass,weight);</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>      </div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>      <span class="keywordflow">if</span>(final_tri.size()==0)</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>    <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>      <span class="comment">// pick a random good vertex: </span></div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>      <a class="code hl_class" href="classVertex.html">Vertex</a>* vtx = *<a class="code hl_function" href="classTridentWABAnaProcessor.html#aaa5aef36ff40406532805460ebc46e30">select_randomly</a>(final_tri.begin(), final_tri.end());</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>      <span class="comment">// get objects we need for this candidate....again...this is lame.  I should encapsulate this or something...</span></div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>      <a class="code hl_class" href="classParticle.html">Particle</a>* ele = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>      <a class="code hl_class" href="classParticle.html">Particle</a>* pos = <span class="keyword">nullptr</span>;        </div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab15fdcabea699be7e584b77c7e0764fa">_ah</a>-&gt;GetParticlesFromVtx(vtx,ele,pos);</div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>      <a class="code hl_class" href="classTrack.html">Track</a>* ele_trk = (<a class="code hl_class" href="classTrack.html">Track</a>*)ele-&gt;<a class="code hl_function" href="classParticle.html#a182dcd4ae447f8686da15c6c642be909">getTrack</a>().Clone();</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>      <a class="code hl_class" href="classTrack.html">Track</a>* pos_trk = (<a class="code hl_class" href="classTrack.html">Track</a>*)pos-&gt;<a class="code hl_function" href="classParticle.html#a182dcd4ae447f8686da15c6c642be909">getTrack</a>().Clone();</div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>      <a class="code hl_class" href="classCalCluster.html">CalCluster</a> ele_clu=ele-&gt;<a class="code hl_function" href="classParticle.html#a2df46a275625b573e7d645b4e9707333">getCluster</a>(); </div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>      <a class="code hl_class" href="classCalCluster.html">CalCluster</a> pos_clu=pos-&gt;<a class="code hl_function" href="classParticle.html#a2df46a275625b573e7d645b4e9707333">getCluster</a>();</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span> </div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span> </div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>      <span class="keywordtype">double</span> corr_eleClusterTime = ele_clu.<a class="code hl_function" href="classCalCluster.html#afbffc04e39811037c7b7c79f29af16f5">getTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab1f9d71fdbc5a92c1b2dc2d2338c9259">calTimeOffset_</a>;</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>      <span class="keywordtype">double</span> corr_posClusterTime = pos_clu.<a class="code hl_function" href="classCalCluster.html#afbffc04e39811037c7b7c79f29af16f5">getTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab1f9d71fdbc5a92c1b2dc2d2338c9259">calTimeOffset_</a>;</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>      </div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span>      <span class="keywordtype">double</span> corr_eleTrackTime=ele_trk-&gt;<a class="code hl_function" href="classTrack.html#a6d2ee48f7c51e78694ba3b331e202414">getTrackTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a>;</div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>      <span class="keywordtype">double</span> corr_posTrackTime=pos_trk-&gt;<a class="code hl_function" href="classTrack.html#a6d2ee48f7c51e78694ba3b331e202414">getTrackTime</a>() - <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a>;</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>){</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>        std::cout&lt;&lt;<span class="stringliteral">&quot;***********************************&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span>        <span class="comment">//std::cout&lt;&lt;&quot;nPositrons in event = &quot;&lt;&lt;nPositrons&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span>        std::cout&lt;&lt;<span class="stringliteral">&quot;positron position at ecal:  x = &quot;</span>&lt;&lt;pos_trk-&gt;<a class="code hl_function" href="classTrack.html#a86b62a1ba6a495e24d800e1536698086">getPositionAtEcal</a>().at(0)</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>                 &lt;&lt;<span class="stringliteral">&quot;; y = &quot;</span>&lt;&lt;pos_trk-&gt;<a class="code hl_function" href="classTrack.html#a86b62a1ba6a495e24d800e1536698086">getPositionAtEcal</a>().at(1)&lt;&lt;<span class="stringliteral">&quot;; p = &quot;</span>&lt;&lt;pos_trk-&gt;<a class="code hl_function" href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">getMomentum</a>().at(2)&lt;&lt;<span class="stringliteral">&quot;  trk time = &quot;</span>&lt;&lt;corr_posTrackTime&lt;&lt;std::endl;</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        std::cout&lt;&lt;<span class="stringliteral">&quot;positron Cluster:  x = &quot;</span>&lt;&lt;pos_clu.<a class="code hl_function" href="classCalCluster.html#a90de9fef142974ca7123e447e2527f05">getPosition</a>().at(0)</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>                 &lt;&lt;<span class="stringliteral">&quot;; y = &quot;</span>&lt;&lt;pos_clu.<a class="code hl_function" href="classCalCluster.html#a90de9fef142974ca7123e447e2527f05">getPosition</a>().at(1)&lt;&lt;<span class="stringliteral">&quot;; E = &quot;</span>&lt;&lt;pos_clu.<a class="code hl_function" href="classCalCluster.html#a5a4d737018dabc54f3e1974aeb87359c">getEnergy</a>()&lt;&lt;std::endl;</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>    <span class="comment">//        std::cout&lt;&lt;&quot;clus_-&gt;size() = &quot;&lt;&lt;clus_-&gt;size()&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>    <span class="comment">//        for(int k_clu=0; k_clu&lt;clus_-&gt;size(); k_clu++){</span></div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>    <span class="comment">//CalCluster* clu=clus_-&gt;at(k_clu);</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>    <span class="comment">// double corr_ClusterTime = clu-&gt;getTime() - calTimeOffset_;</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    <span class="comment">//std::cout&lt;&lt;&quot;CalCluster k = &quot;&lt;&lt;k_clu&lt;&lt;&quot; x = &quot;&lt;&lt;clu-&gt;getPosition().at(0)&lt;&lt;&quot; y = &quot;&lt;&lt;clu-&gt;getPosition().at(1)&lt;&lt;&quot;  cluster time = &quot;&lt;&lt; corr_ClusterTime&lt;&lt;&quot;; E = &quot;&lt;&lt;clu-&gt;getEnergy()&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span>    <span class="comment">//}</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span><span class="comment">        std::cout&lt;&lt;&quot;fspart_-&gt;size() = &quot;&lt;&lt;fspart_-&gt;size()&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span><span class="comment">        for(int j_part=0; j_part&lt;fspart_-&gt;size();j_part++){</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span><span class="comment">          Particle* part=fspart_-&gt;at(j_part);</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="comment">          Track trk=part-&gt;getTrack();</span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span><span class="comment">          CalCluster clu=part-&gt;getCluster();</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span><span class="comment">          double corr_ClusterTime = clu.getTime() - calTimeOffset_;</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span><span class="comment">          double corr_TrackTime=trk.getTrackTime() - trkTimeOffset_;</span></div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span><span class="comment">          std::cout&lt;&lt;&quot;FSParticle track::  charge = &quot;&lt;&lt;trk.getCharge()&lt;&lt;&quot;;  nHits = &quot;&lt;&lt;trk.getTrackerHitCount()&lt;&lt;&quot;; trk time = &quot;&lt;&lt;corr_TrackTime&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span><span class="comment">          std::cout&lt;&lt;&quot;FSParticle track::   x = &quot;&lt;&lt;trk.getPositionAtEcal().at(0)</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span><span class="comment">                   &lt;&lt;&quot;; y = &quot;&lt;&lt;trk.getPositionAtEcal().at(1)&lt;&lt;&quot;; p = &quot;&lt;&lt;trk.getMomentum().at(2)&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span><span class="comment">          std::cout&lt;&lt;&quot;FSParticle cluster::  x = &quot;&lt;&lt;clu.getPosition().at(0)&lt;&lt;&quot; y = &quot;&lt;&lt;clu.getPosition().at(1)&lt;&lt;&quot;; E = &quot;&lt;&lt;clu.getEnergy()&lt;&lt;&quot;; clu time = &quot;&lt;&lt;corr_ClusterTime&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span><span class="comment">        }</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span><span class="comment">    */</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span>    std::cout&lt;&lt;<span class="stringliteral">&quot;***********************************&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span><span class="comment">        for(int j_trk=0; j_trk&lt;trks_-&gt;size();j_trk++){</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span><span class="comment">          Track* trk=trks_-&gt;at(j_trk);</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span><span class="comment">          std::cout&lt;&lt;&quot;KFTrack::  charge = &quot;&lt;&lt;trk-&gt;getCharge()&lt;&lt;&quot;;  nHits = &quot;&lt;&lt;trk-&gt;getTrackerHitCount()&lt;&lt;&quot;; trk time = &quot;&lt;&lt;trk-&gt;getTrackTime()&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span><span class="comment">          std::cout&lt;&lt;&quot;KFtrack::   x = &quot;&lt;&lt;trk-&gt;getPositionAtEcal().at(0)</span></div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span><span class="comment">                   &lt;&lt;&quot;; y = &quot;&lt;&lt;trk-&gt;getPositionAtEcal().at(1)&lt;&lt;&quot;; p = &quot;&lt;&lt;trk-&gt;getMomentum().at(2)&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span><span class="comment">    }</span></div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span><span class="comment">    */</span></div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>        std::cout&lt;&lt;<span class="stringliteral">&quot;***********************************&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>      }</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>      <span class="comment">//    continue;   </span></div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>      <span class="comment">//assign the layer codes for this event</span></div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>      <span class="comment">//      Track* ele_trk_from_list = _ah-&gt;GetTrackFromParticle(*trks_,ele);</span></div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>      <span class="comment">//      Track* pos_trk_from_list = _ah-&gt;GetTrackFromParticle(*trks_,pos);</span></div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">debug_</a>)std::cout&lt;&lt;<span class="stringliteral">&quot;fsp-&gt;getTrack()::  electron time = &quot;</span>&lt;&lt;ele_trk-&gt;<a class="code hl_function" href="classTrack.html#a6d2ee48f7c51e78694ba3b331e202414">getTrackTime</a>()&lt;&lt;std::endl;</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>      <span class="comment">//      if(debug_)std::cout&lt;&lt;&quot;from track list::  electron time = &quot;&lt;&lt;ele_trk_from_list-&gt;getTrackTime()&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[region]-&gt;AssignLayerCode( ele_trk,pos_trk);</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[region]-&gt;Fill2DHistograms(vtx,weight);</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[region]-&gt;Fill1DVertex(vtx,</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>                                            ele,</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>                                            pos, </div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>                                            ele_trk,</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                                            pos_trk,</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>                                            <span class="comment">//ele_trk_from_list,</span></div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                                            <span class="comment">//pos_trk_from_list,</span></div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a>,</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                                            weight);</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>      </div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[region]-&gt;Fill2DTrack(ele_trk,weight,<span class="stringliteral">&quot;ele_&quot;</span>);</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[region]-&gt;Fill2DTrack(pos_trk,weight,<span class="stringliteral">&quot;pos_&quot;</span>);</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>      <span class="comment">//      _reg_vtx_histos[region]-&gt;FillTrackClusterHistos(std::pair&lt;CalCluster,Track*&gt;(ele_clu,ele_trk),std::pair&lt;CalCluster,Track*&gt;(pos_clu,pos_trk),calTimeOffset_,trkTimeOffset_,clus_,weight);</span></div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>[region]-&gt;FillTrackClusterHistos(std::pair&lt;CalCluster,Track*&gt;(ele_clu,ele_trk),std::pair&lt;CalCluster,Track*&gt;(pos_clu,pos_trk),<a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab1f9d71fdbc5a92c1b2dc2d2338c9259">calTimeOffset_</a>,<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">trkTimeOffset_</a>,weight);</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>      </div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>      <span class="comment">/*      </span></div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span><span class="comment">      if (trks_){</span></div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span><span class="comment">    _reg_vtx_histos[region]-&gt;Fill1DHisto(&quot;n_tracks_h&quot;,trks_-&gt;size(),weight);</span></div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span><span class="comment">        _reg_vtx_histos[region]-&gt;Fill1DHisto(&quot;n_positrons_h&quot;,nPositrons,weight);</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span><span class="comment">        _reg_vtx_histos[region]-&gt;Fill1DHisto(&quot;n_electrons_h&quot;,nElectrons,weight);</span></div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span><span class="comment">      }</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span><span class="comment">      _reg_vtx_histos[region]-&gt;Fill1DHisto(&quot;n_pos_clusters_h&quot;,nPosSideClusters,weight);</span></div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span><span class="comment">      _reg_vtx_histos[region]-&gt;Fill1DHisto(&quot;n_ele_clusters_h&quot;,nEleSideClusters,weight);</span></div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span><span class="comment">      */</span></div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>      <span class="comment">//Just for the selected vertex</span></div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#aa62ec30f7a8d55f692620c50c88ef052">_reg_tuples</a>[region]-&gt;setVariableValue(<span class="stringliteral">&quot;unc_vtx_mass&quot;</span>, vtx-&gt;getInvMass());</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>      </div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>      <span class="comment">//TODO put this in the Vertex!</span></div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>      TVector3 vtxPosSvt;</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>      vtxPosSvt.SetX(vtx-&gt;getX());</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>      vtxPosSvt.SetY(vtx-&gt;getY());</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>      vtxPosSvt.SetZ(vtx-&gt;getZ());</div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>      vtxPosSvt.RotateY(-0.0305);</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>      </div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#aa62ec30f7a8d55f692620c50c88ef052">_reg_tuples</a>[region]-&gt;setVariableValue(<span class="stringliteral">&quot;unc_vtx_z&quot;</span>   , vtxPosSvt.Z());</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>      <a class="code hl_variable" href="classTridentWABAnaProcessor.html#aa62ec30f7a8d55f692620c50c88ef052">_reg_tuples</a>[region]-&gt;fill();</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>    } <span class="comment">// regions</span></div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>    </div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    </div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span>    <span class="comment">/*   Ok...now do the WAB analysis  */</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    </div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    <span class="comment">//    std::vector&lt;WABCand&gt; selected_wab;</span></div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>    <span class="comment">/*</span></div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span><span class="comment">      if(debug_)  std::cout&lt;&lt;&quot;Number of electrons = &quot;&lt;&lt;goodElectrons.size()&lt;&lt;&quot;; number of photons = &quot;&lt;&lt;goodPhotons.size()&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span><span class="comment"></span> </div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span><span class="comment">    for(auto ele: goodElectrons){      </span></div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span><span class="comment">      Track* ele_trk=ele.second;</span></div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span><span class="comment">      CalCluster* ele_clu=ele.first;</span></div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span><span class="comment">      for(auto gamma:  goodPhotons){</span></div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span><span class="comment">    std::pair&lt;CalCluster*,Track*&gt; photPair(gamma,NULL);  //make this dumb pair for histo filling</span></div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span><span class="comment">    for(auto region : _regionsWAB){</span></div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span><span class="comment">       //No cuts.</span></div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span><span class="comment">      _reg_WAB_selectors[region]-&gt;getCutFlowHisto()-&gt;Fill(0.,weight);</span></div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span><span class="comment">      //fill some histos....</span></div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span><span class="comment">      bool foundL1ele = false;</span></div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span><span class="comment">      bool foundL2ele = false;</span></div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span><span class="comment">          //_ah-&gt;InnermostLayerCheck(ele_trk, foundL1ele, foundL2ele);   </span></div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span><span class="comment">      int layerCombo=3;//== no L1 or L2 hit</span></div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span><span class="comment">      if(foundL1ele)</span></div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span><span class="comment">        layerCombo=1;</span></div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span><span class="comment">      else if(foundL2ele)</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span><span class="comment">        layerCombo=2;     </span></div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span><span class="comment">      if (!_reg_WAB_selectors[region]-&gt;passCutEq(&quot;LayerRequirement&quot;,layerCombo,weight))</span></div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span><span class="comment">        continue;</span></div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span><span class="comment"></span> </div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span><span class="comment">      if(!_reg_WAB_selectors[region]-&gt;passCutEq(&quot;eleClusterMatched&quot;,ele.first!=NULL,weight))</span></div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span><span class="comment">        continue;</span></div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span><span class="comment">      bool isFiducialElectron=_ah-&gt;IsECalFiducial(ele.first);</span></div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span><span class="comment">      bool isFiducialGamma=_ah-&gt;IsECalFiducial(gamma);</span></div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span><span class="comment"></span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span><span class="comment">      if (!_reg_WAB_selectors[region]-&gt;passCutEq(&quot;cluFiducialElectron&quot;,isFiducialElectron,weight))</span></div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span><span class="comment">        continue;</span></div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span><span class="comment">      if (!_reg_WAB_selectors[region]-&gt;passCutEq(&quot;cluFiducialGamma&quot;,isFiducialGamma,weight))</span></div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span><span class="comment">        continue;</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span><span class="comment"></span> </div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span><span class="comment">      double corr_eleClusterTime=-666;</span></div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span><span class="comment">      if(ele_clu !=NULL) corr_eleClusterTime = ele_clu-&gt;getTime() - timeOffset_;</span></div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span><span class="comment">      double corr_gamClusterTime = gamma-&gt;getTime() - timeOffset_;</span></div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span><span class="comment"></span> </div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span><span class="comment">      //gamma cluster time</span></div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span><span class="comment">       if (!_reg_WAB_selectors[region]-&gt;passCutLt(&quot;gamCluTime_lt&quot;,fabs(corr_gamClusterTime),weight))</span></div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span><span class="comment">          continue;</span></div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span><span class="comment">      //Ele Pos Cluster Tme Difference</span></div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span><span class="comment">      if(ele_clu!=NULL)</span></div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span><span class="comment">        if (!_reg_WAB_selectors[region]-&gt;passCutLt(&quot;elegamCluTimeDiff_lt&quot;,fabs(corr_eleClusterTime - corr_gamClusterTime),weight))</span></div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span><span class="comment">          continue;</span></div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span><span class="comment">      </span></div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span><span class="comment">      //Ele Track-Cluster Time Difference</span></div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span><span class="comment">      if(ele_clu!=NULL)</span></div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span><span class="comment">        if (!_reg_WAB_selectors[region]-&gt;passCutLt(&quot;eleTrkCluTimeDiff_lt&quot;,fabs(ele_trk-&gt;getTrackTime() - corr_eleClusterTime),weight))</span></div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span><span class="comment">          continue;    </span></div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span><span class="comment">      </span></div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span><span class="comment">      _reg_WAB_histos[region]-&gt;Fill1DTrack(ele.second,weight,&quot;ele_&quot;);</span></div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span><span class="comment">      _reg_WAB_histos[region]-&gt;FillWABHistos(ele,gamma,weight);</span></div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span><span class="comment">      _reg_WAB_histos[region]-&gt;FillTrackClusterHistos(ele,photPair,timeOffset_,weight);   </span></div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span><span class="comment">          std::cout&lt;&lt;&quot;Filled WAB Histos&quot;&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span><span class="comment">    }</span></div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span><span class="comment">      }      </span></div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span><span class="comment">      }</span></div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span><span class="comment">    */</span></div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>}</div>
</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span> </div>
<div class="foldopen" id="foldopen00659" data-start="{" data-end="}">
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno"><a class="line" href="classTridentWABAnaProcessor.html#a32d626626eee0bc4ade146973f6abb1c">  659</a></span><span class="keywordtype">void</span> <a class="code hl_function" href="classTridentWABAnaProcessor.html#a32d626626eee0bc4ade146973f6abb1c">TridentWABAnaProcessor::finalize</a>() {</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>    </div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>    <span class="comment">//TODO clean this up a little.</span></div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>    <a class="code hl_variable" href="classProcessor.html#a234d65764df0345da3f669b65aaca080">outF_</a>-&gt;cd();</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;saveHistos(<a class="code hl_variable" href="classProcessor.html#a234d65764df0345da3f669b65aaca080">outF_</a>,<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;getName());</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>    <a class="code hl_variable" href="classProcessor.html#a234d65764df0345da3f669b65aaca080">outF_</a>-&gt;cd(<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">_vtx_histos</a>-&gt;getName().c_str());</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">vtxSelector</a>-&gt;getCutFlowHisto()-&gt;Write();</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>        </div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>    </div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>    <span class="keywordflow">for</span> (<a class="code hl_typedef" href="classTridentWABAnaProcessor.html#aa4ae0bddc080d6f62b211a6c48647db6">reg_it</a> it = <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>.begin(); it!=<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">_reg_vtx_histos</a>.end(); ++it) {</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        (it-&gt;second)-&gt;saveHistos(<a class="code hl_variable" href="classProcessor.html#a234d65764df0345da3f669b65aaca080">outF_</a>,it-&gt;first);</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        <a class="code hl_variable" href="classProcessor.html#a234d65764df0345da3f669b65aaca080">outF_</a>-&gt;cd((it-&gt;first).c_str());</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">_reg_vtx_selectors</a>[it-&gt;first]-&gt;getCutFlowHisto()-&gt;Write();</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        <span class="comment">//Save tuples</span></div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#aa62ec30f7a8d55f692620c50c88ef052">_reg_tuples</a>[it-&gt;first]-&gt;writeTree();</div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>    }</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>      <span class="keywordflow">for</span> (<a class="code hl_typedef" href="classTridentWABAnaProcessor.html#aa4ae0bddc080d6f62b211a6c48647db6">reg_it</a> it = <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a662bcc9e195728c7b5f34dbd25a855d3">_reg_WAB_histos</a>.begin(); it!=<a class="code hl_variable" href="classTridentWABAnaProcessor.html#a662bcc9e195728c7b5f34dbd25a855d3">_reg_WAB_histos</a>.end(); ++it) {</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span>        (it-&gt;second)-&gt;saveHistos(<a class="code hl_variable" href="classProcessor.html#a234d65764df0345da3f669b65aaca080">outF_</a>,it-&gt;first);</div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>        <a class="code hl_variable" href="classProcessor.html#a234d65764df0345da3f669b65aaca080">outF_</a>-&gt;cd((it-&gt;first).c_str());</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>        <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a116385fc91d3f3866fc274d70da85acf">_reg_WAB_selectors</a>[it-&gt;first]-&gt;getCutFlowHisto()-&gt;Write();</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>    }</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>    <a class="code hl_variable" href="classProcessor.html#a234d65764df0345da3f669b65aaca080">outF_</a>-&gt;Close();</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>        </div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>}</div>
</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span> </div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span><span class="comment">//get the v0 from the tracks after unduplicating and matching to clusters</span></div>
<div class="foldopen" id="foldopen00685" data-start="{" data-end="}">
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno"><a class="line" href="classTridentWABAnaProcessor.html#aba6b9a35ce65f24a9dc797026d074393">  685</a></span><a class="code hl_class" href="classVertex.html">Vertex</a>* <a class="code hl_function" href="classTridentWABAnaProcessor.html#aba6b9a35ce65f24a9dc797026d074393">TridentWABAnaProcessor::matchPairToVertex</a>(<a class="code hl_class" href="classTrack.html">Track</a>* eleTrk,<a class="code hl_class" href="classTrack.html">Track</a>* posTrk, std::vector&lt;Vertex*&gt;&amp; verts){</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>  <a class="code hl_class" href="classVertex.html">Vertex</a>* matchedVert=NULL; </div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> vtx: verts){</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>    <a class="code hl_class" href="classParticle.html">Particle</a>* ele=NULL; </div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>    <a class="code hl_class" href="classParticle.html">Particle</a>* pos=NULL; </div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>    <span class="keywordtype">bool</span> foundParts = <a class="code hl_variable" href="classTridentWABAnaProcessor.html#ab15fdcabea699be7e584b77c7e0764fa">_ah</a>-&gt;GetParticlesFromVtx(vtx,ele,pos);</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>    <a class="code hl_class" href="classTrack.html">Track</a> eleVtx=ele-&gt;<a class="code hl_function" href="classParticle.html#a182dcd4ae447f8686da15c6c642be909">getTrack</a>();</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>    <a class="code hl_class" href="classTrack.html">Track</a> posVtx=pos-&gt;<a class="code hl_function" href="classParticle.html#a182dcd4ae447f8686da15c6c642be909">getTrack</a>();   </div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>    <span class="comment">//    std::cout&lt;&lt;eleVtx.getID()&lt;&lt;&quot;  &quot;&lt;&lt;eleTrk-&gt;getID()&lt;&lt;&quot;   &quot;&lt;&lt;posVtx.getID()&lt;&lt;&quot;   &quot;&lt;&lt;posTrk-&gt;getID()&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>    <span class="keywordflow">if</span> (eleVtx.<a class="code hl_function" href="classTrack.html#a9c9659a6c6ba66b4107ba59c95a24241">getID</a>()==eleTrk-&gt;<a class="code hl_function" href="classTrack.html#a9c9659a6c6ba66b4107ba59c95a24241">getID</a>() &amp;&amp; posVtx.<a class="code hl_function" href="classTrack.html#a9c9659a6c6ba66b4107ba59c95a24241">getID</a>()==posTrk-&gt;<a class="code hl_function" href="classTrack.html#a9c9659a6c6ba66b4107ba59c95a24241">getID</a>())</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>      matchedVert=vtx;</div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>  }</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>  <span class="keywordflow">return</span> matchedVert; </div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span>}</div>
</div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span> </div>
<div class="foldopen" id="foldopen00700" data-start="{" data-end="}">
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno"><a class="line" href="classTridentWABAnaProcessor.html#ac248a133e0509a98e936ec29dcc29b8c">  700</a></span>std::pair&lt;Track*,MCParticle*&gt; <a class="code hl_function" href="classTridentWABAnaProcessor.html#ac248a133e0509a98e936ec29dcc29b8c">TridentWABAnaProcessor::matchToMCParticle</a>(<a class="code hl_class" href="classTrack.html">Track</a>* trk, std::vector&lt;MCParticle*&gt;&amp; mcParts){</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>  <span class="keywordtype">int</span> minHitsForMatch=3; </div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>  <a class="code hl_class" href="classMCParticle.html">MCParticle</a>* matchedMCPart=NULL; </div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>  TRefArray trk_hits = trk-&gt;<a class="code hl_function" href="classTrack.html#aa5f939f8e1961ed57a59f8d01e46438f">getSvtHits</a>();</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>  std::map&lt;int, std::vector&lt;int&gt; &gt; trueHitIDs;</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span> </div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a82c2f9f7723da51f2db1115de0139e6f">hits_</a>-&gt;size(); i++) {</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>    <a class="code hl_class" href="classTrackerHit.html">TrackerHit</a>* hit = <a class="code hl_variable" href="classTridentWABAnaProcessor.html#a82c2f9f7723da51f2db1115de0139e6f">hits_</a>-&gt;at(i);</div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>    trueHitIDs[hit-&gt;<a class="code hl_function" href="classTrackerHit.html#a9c9659a6c6ba66b4107ba59c95a24241">getID</a>()] = hit-&gt;<a class="code hl_function" href="classTrackerHit.html#a48aa9182ce55a0d13bd615b71f7f4f15">getMCPartIDs</a>();</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>  }</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>  std::map&lt;int, int&gt; nHits4part;</div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; trk_hits.GetEntries(); i++){</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    <a class="code hl_class" href="classTrackerHit.html">TrackerHit</a>* eleHit = (<a class="code hl_class" href="classTrackerHit.html">TrackerHit</a>*)trk_hits.At(i);</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> idI = 0; idI &lt; trueHitIDs[eleHit-&gt;<a class="code hl_function" href="classTrackerHit.html#a9c9659a6c6ba66b4107ba59c95a24241">getID</a>()].size(); idI++ ){</div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    <span class="keywordtype">int</span> partID = trueHitIDs[eleHit-&gt;<a class="code hl_function" href="classTrackerHit.html#a9c9659a6c6ba66b4107ba59c95a24241">getID</a>()].at(idI);</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    <span class="keywordflow">if</span> ( nHits4part.find(partID) == nHits4part.end() ) {</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>      <span class="comment">// not found</span></div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>      nHits4part[partID] = 1;</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    } </div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>      <span class="comment">// found</span></div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>      nHits4part[partID]++;</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>    }</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    }</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>  }</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>  </div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>  <span class="comment">//Determine the MC part with the most hits on the track</span></div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span>  <span class="keywordtype">int</span> maxNHits = 0;</div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>  <span class="keywordtype">int</span> maxID = 0;</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>  <span class="keywordflow">for</span> (std::map&lt;int,int&gt;::iterator it=nHits4part.begin(); it!=nHits4part.end(); ++it){</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>    <span class="keywordflow">if</span>(it-&gt;second &gt; maxNHits){</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>      maxNHits = it-&gt;second;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>      maxID = it-&gt;first;</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>    }</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>  }</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>  <span class="comment">//  std::cout&lt;&lt;&quot;Got maxID and nHits = &quot;&lt;&lt;maxNHits&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span> </div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>  <span class="keywordflow">if</span>(maxNHits&gt;=minHitsForMatch){</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; mcParts.size(); i++){</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span>      <span class="keywordflow">if</span>(mcParts.at(i)-&gt;getID() != maxID) <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>      <span class="comment">//      std::cout&lt;&lt;&quot;Found Match&quot;&lt;&lt;std::endl;</span></div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>      matchedMCPart=mcParts.at(i);</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    }  </div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span>  }</div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span> </div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>  <span class="keywordflow">return</span> std::pair&lt;Track*,MCParticle*&gt;(trk,matchedMCPart);</div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>}</div>
</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span> </div>
<div class="foldopen" id="foldopen00748" data-start="{" data-end="}">
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno"><a class="line" href="classTridentWABAnaProcessor.html#adbc941428a592ff27598768c11ef936a">  748</a></span>std::vector&lt;CalCluster*&gt; <a class="code hl_function" href="classTridentWABAnaProcessor.html#adbc941428a592ff27598768c11ef936a">TridentWABAnaProcessor::getUnmatchedClusters</a>(std::vector&lt;CalCluster*&gt;&amp; allClusters,std::vector&lt;std::pair&lt;CalCluster*,Track*&gt; &gt; electrons, std::vector&lt;std::pair&lt;CalCluster*,Track*&gt; &gt; positrons){</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>  std::vector&lt;CalCluster*&gt; unmatchedClusters; </div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span> </div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>  <span class="keywordflow">for</span>(<span class="keyword">auto</span> clu: allClusters){</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>    <span class="keywordtype">bool</span> foundMatch=<span class="keyword">false</span>;</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> ele: electrons){</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>      <a class="code hl_class" href="classCalCluster.html">CalCluster</a>* eleCl=ele.first;</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>      <span class="keywordflow">if</span>(clu == eleCl)</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>    foundMatch=<span class="keyword">true</span>; </div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>    }</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> pos: positrons){</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>      <a class="code hl_class" href="classCalCluster.html">CalCluster</a>* posCl=pos.first;</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>      <span class="keywordflow">if</span>(clu == posCl)</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>    foundMatch=<span class="keyword">true</span>; </div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>    }</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>    <span class="keywordflow">if</span>(!foundMatch)</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>      unmatchedClusters.push_back(clu); </div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>  }</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>  <span class="keywordflow">return</span> unmatchedClusters; </div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>}</div>
</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span> </div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno"><a class="line" href="TridentWABAnaProcessor_8cxx.html#aa054aa56f6d66fd598fdf9394bdb7b4d">  769</a></span><a class="code hl_define" href="Processor_8h.html#a35f18fdbd2158411a7de1ff6a8a79ac5">DECLARE_PROCESSOR</a>(<a class="code hl_class" href="classTridentWABAnaProcessor.html">TridentWABAnaProcessor</a>);</div>
<div class="ttc" id="aProcessor_8h_html_a35f18fdbd2158411a7de1ff6a8a79ac5"><div class="ttname"><a href="Processor_8h.html#a35f18fdbd2158411a7de1ff6a8a79ac5">DECLARE_PROCESSOR</a></div><div class="ttdeci">#define DECLARE_PROCESSOR(CLASS)</div><div class="ttdoc">Macro which allows the framework to construct a producer given its name during configuration.</div><div class="ttdef"><b>Definition</b> <a href="Processor_8h_source.html#l00139">Processor.h:139</a></div></div>
<div class="ttc" id="aTridentWABAnaProcessor_8h_html"><div class="ttname"><a href="TridentWABAnaProcessor_8h.html">TridentWABAnaProcessor.h</a></div></div>
<div class="ttc" id="aclassAnaHelpers_html_ad2e16c52eb34eb9851bd01e93c355aff"><div class="ttname"><a href="classAnaHelpers.html#ad2e16c52eb34eb9851bd01e93c355aff">AnaHelpers::getFileName</a></div><div class="ttdeci">static std::string getFileName(std::string filePath, bool withExtension)</div><div class="ttdef"><b>Definition</b> <a href="AnaHelpers_8cxx_source.html#l00005">AnaHelpers.cxx:5</a></div></div>
<div class="ttc" id="aclassCalCluster_html"><div class="ttname"><a href="classCalCluster.html">CalCluster</a></div><div class="ttdef"><b>Definition</b> <a href="CalCluster_8h_source.html#l00023">CalCluster.h:23</a></div></div>
<div class="ttc" id="aclassCalCluster_html_a5a4d737018dabc54f3e1974aeb87359c"><div class="ttname"><a href="classCalCluster.html#a5a4d737018dabc54f3e1974aeb87359c">CalCluster::getEnergy</a></div><div class="ttdeci">double getEnergy() const</div><div class="ttdef"><b>Definition</b> <a href="CalCluster_8h_source.html#l00073">CalCluster.h:73</a></div></div>
<div class="ttc" id="aclassCalCluster_html_a90de9fef142974ca7123e447e2527f05"><div class="ttname"><a href="classCalCluster.html#a90de9fef142974ca7123e447e2527f05">CalCluster::getPosition</a></div><div class="ttdeci">std::vector&lt; double &gt; getPosition() const</div><div class="ttdef"><b>Definition</b> <a href="CalCluster_8h_source.html#l00063">CalCluster.h:63</a></div></div>
<div class="ttc" id="aclassCalCluster_html_afbffc04e39811037c7b7c79f29af16f5"><div class="ttname"><a href="classCalCluster.html#afbffc04e39811037c7b7c79f29af16f5">CalCluster::getTime</a></div><div class="ttdeci">double getTime() const</div><div class="ttdef"><b>Definition</b> <a href="CalCluster_8h_source.html#l00083">CalCluster.h:83</a></div></div>
<div class="ttc" id="aclassHpsEvent_html"><div class="ttname"><a href="classHpsEvent.html">HpsEvent</a></div><div class="ttdef"><b>Definition</b> <a href="HpsEvent_8h_source.html#l00009">HpsEvent.h:9</a></div></div>
<div class="ttc" id="aclassIEvent_html"><div class="ttname"><a href="classIEvent.html">IEvent</a></div><div class="ttdef"><b>Definition</b> <a href="IEvent_8h_source.html#l00007">IEvent.h:7</a></div></div>
<div class="ttc" id="aclassMCParticle_html"><div class="ttname"><a href="classMCParticle.html">MCParticle</a></div><div class="ttdef"><b>Definition</b> <a href="MCParticle_8h_source.html#l00019">MCParticle.h:19</a></div></div>
<div class="ttc" id="aclassParameterSet_html"><div class="ttname"><a href="classParameterSet.html">ParameterSet</a></div><div class="ttdoc">description</div><div class="ttdef"><b>Definition</b> <a href="ParameterSet_8h_source.html#l00022">ParameterSet.h:22</a></div></div>
<div class="ttc" id="aclassParticle_html"><div class="ttname"><a href="classParticle.html">Particle</a></div><div class="ttdef"><b>Definition</b> <a href="Particle_8h_source.html#l00024">Particle.h:24</a></div></div>
<div class="ttc" id="aclassParticle_html_a182dcd4ae447f8686da15c6c642be909"><div class="ttname"><a href="classParticle.html#a182dcd4ae447f8686da15c6c642be909">Particle::getTrack</a></div><div class="ttdeci">Track getTrack() const</div><div class="ttdef"><b>Definition</b> <a href="Particle_8h_source.html#l00048">Particle.h:48</a></div></div>
<div class="ttc" id="aclassParticle_html_a2df46a275625b573e7d645b4e9707333"><div class="ttname"><a href="classParticle.html#a2df46a275625b573e7d645b4e9707333">Particle::getCluster</a></div><div class="ttdeci">CalCluster getCluster() const</div><div class="ttdef"><b>Definition</b> <a href="Particle_8h_source.html#l00062">Particle.h:62</a></div></div>
<div class="ttc" id="aclassParticle_html_a5a4d737018dabc54f3e1974aeb87359c"><div class="ttname"><a href="classParticle.html#a5a4d737018dabc54f3e1974aeb87359c">Particle::getEnergy</a></div><div class="ttdeci">double getEnergy() const</div><div class="ttdef"><b>Definition</b> <a href="Particle_8h_source.html#l00143">Particle.h:143</a></div></div>
<div class="ttc" id="aclassProcess_html"><div class="ttname"><a href="classProcess.html">Process</a></div><div class="ttdef"><b>Definition</b> <a href="Process_8h_source.html#l00029">Process.h:29</a></div></div>
<div class="ttc" id="aclassProcessor_html"><div class="ttname"><a href="classProcessor.html">Processor</a></div><div class="ttdoc">Base class for all event processing components.</div><div class="ttdef"><b>Definition</b> <a href="Processor_8h_source.html#l00034">Processor.h:34</a></div></div>
<div class="ttc" id="aclassProcessor_html_a234d65764df0345da3f669b65aaca080"><div class="ttname"><a href="classProcessor.html#a234d65764df0345da3f669b65aaca080">Processor::outF_</a></div><div class="ttdeci">TFile * outF_</div><div class="ttdef"><b>Definition</b> <a href="Processor_8h_source.html#l00125">Processor.h:125</a></div></div>
<div class="ttc" id="aclassProcessor_html_a7017ddc30577ae1cdf3941090fe9f4b4"><div class="ttname"><a href="classProcessor.html#a7017ddc30577ae1cdf3941090fe9f4b4">Processor::process</a></div><div class="ttdeci">virtual bool process()</div><div class="ttdoc">Process the histograms and generate analysis output.</div><div class="ttdef"><b>Definition</b> <a href="Processor_8h_source.html#l00095">Processor.h:95</a></div></div>
<div class="ttc" id="aclassTSData_html_a8a7c28e1b99dd3dbd404c2b2385454c1"><div class="ttname"><a href="classTSData.html#a8a7c28e1b99dd3dbd404c2b2385454c1">TSData::prescaled</a></div><div class="ttdeci">tsBits prescaled</div><div class="ttdef"><b>Definition</b> <a href="TSData_8h_source.html#l00066">TSData.h:66</a></div></div>
<div class="ttc" id="aclassTrack_html"><div class="ttname"><a href="classTrack.html">Track</a></div><div class="ttdef"><b>Definition</b> <a href="Track_8h_source.html#l00032">Track.h:32</a></div></div>
<div class="ttc" id="aclassTrack_html_a4f0ac38a52ef74d7167b02e514d2232d"><div class="ttname"><a href="classTrack.html#a4f0ac38a52ef74d7167b02e514d2232d">Track::getChi2Ndf</a></div><div class="ttdeci">double getChi2Ndf() const</div><div class="ttdef"><b>Definition</b> <a href="Track_8h_source.html#l00126">Track.h:126</a></div></div>
<div class="ttc" id="aclassTrack_html_a5464e097b969841cc8cd1f084421009e"><div class="ttname"><a href="classTrack.html#a5464e097b969841cc8cd1f084421009e">Track::getTrackerHitCount</a></div><div class="ttdeci">int getTrackerHitCount() const</div><div class="ttdef"><b>Definition</b> <a href="Track_8h_source.html#l00345">Track.h:345</a></div></div>
<div class="ttc" id="aclassTrack_html_a6d2ee48f7c51e78694ba3b331e202414"><div class="ttname"><a href="classTrack.html#a6d2ee48f7c51e78694ba3b331e202414">Track::getTrackTime</a></div><div class="ttdeci">double getTrackTime() const</div><div class="ttdef"><b>Definition</b> <a href="Track_8h_source.html#l00160">Track.h:160</a></div></div>
<div class="ttc" id="aclassTrack_html_a86b62a1ba6a495e24d800e1536698086"><div class="ttname"><a href="classTrack.html#a86b62a1ba6a495e24d800e1536698086">Track::getPositionAtEcal</a></div><div class="ttdeci">std::vector&lt; double &gt; getPositionAtEcal()</div><div class="ttdef"><b>Definition</b> <a href="Track_8cxx_source.html#l00053">Track.cxx:53</a></div></div>
<div class="ttc" id="aclassTrack_html_a9c9659a6c6ba66b4107ba59c95a24241"><div class="ttname"><a href="classTrack.html#a9c9659a6c6ba66b4107ba59c95a24241">Track::getID</a></div><div class="ttdeci">int getID() const</div><div class="ttdef"><b>Definition</b> <a href="Track_8h_source.html#l00262">Track.h:262</a></div></div>
<div class="ttc" id="aclassTrack_html_aa5f939f8e1961ed57a59f8d01e46438f"><div class="ttname"><a href="classTrack.html#aa5f939f8e1961ed57a59f8d01e46438f">Track::getSvtHits</a></div><div class="ttdeci">TRefArray getSvtHits() const</div><div class="ttdef"><b>Definition</b> <a href="Track_8h_source.html#l00064">Track.h:64</a></div></div>
<div class="ttc" id="aclassTrack_html_ab6611fc19a302f12875aa80fa360fb81"><div class="ttname"><a href="classTrack.html#ab6611fc19a302f12875aa80fa360fb81">Track::getMomentum</a></div><div class="ttdeci">std::vector&lt; double &gt; getMomentum()</div><div class="ttdef"><b>Definition</b> <a href="Track_8h_source.html#l00285">Track.h:285</a></div></div>
<div class="ttc" id="aclassTrackerHit_html"><div class="ttname"><a href="classTrackerHit.html">TrackerHit</a></div><div class="ttdef"><b>Definition</b> <a href="TrackerHit_8h_source.html#l00022">TrackerHit.h:22</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a48aa9182ce55a0d13bd615b71f7f4f15"><div class="ttname"><a href="classTrackerHit.html#a48aa9182ce55a0d13bd615b71f7f4f15">TrackerHit::getMCPartIDs</a></div><div class="ttdeci">std::vector&lt; int &gt; getMCPartIDs() const</div><div class="ttdef"><b>Definition</b> <a href="TrackerHit_8h_source.html#l00127">TrackerHit.h:127</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a9c9659a6c6ba66b4107ba59c95a24241"><div class="ttname"><a href="classTrackerHit.html#a9c9659a6c6ba66b4107ba59c95a24241">TrackerHit::getID</a></div><div class="ttdeci">int getID() const</div><div class="ttdef"><b>Definition</b> <a href="TrackerHit_8h_source.html#l00124">TrackerHit.h:124</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html"><div class="ttname"><a href="classTridentWABAnaProcessor.html">TridentWABAnaProcessor</a></div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00031">TridentWABAnaProcessor.h:31</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a10d04e8d52c9a7c3a51a70f7cbeaf632"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a10d04e8d52c9a7c3a51a70f7cbeaf632">TridentWABAnaProcessor::~TridentWABAnaProcessor</a></div><div class="ttdeci">~TridentWABAnaProcessor()</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8cxx_source.html#l00019">TridentWABAnaProcessor.cxx:19</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a116385fc91d3f3866fc274d70da85acf"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a116385fc91d3f3866fc274d70da85acf">TridentWABAnaProcessor::_reg_WAB_selectors</a></div><div class="ttdeci">std::map&lt; std::string, std::shared_ptr&lt; BaseSelector &gt; &gt; _reg_WAB_selectors</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00093">TridentWABAnaProcessor.h:93</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a126254714212e383ba1b63fe0f6c17ab"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a126254714212e383ba1b63fe0f6c17ab">TridentWABAnaProcessor::histoCfg_</a></div><div class="ttdeci">std::string histoCfg_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00102">TridentWABAnaProcessor.h:102</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a157ff2d43ff49f89e19898c85e4cd65b"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a157ff2d43ff49f89e19898c85e4cd65b">TridentWABAnaProcessor::regionWABSelections_</a></div><div class="ttdeci">std::vector&lt; std::string &gt; regionWABSelections_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00049">TridentWABAnaProcessor.h:49</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a174d7e034f9a94c6d3d7300d72ba4d1d"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a174d7e034f9a94c6d3d7300d72ba4d1d">TridentWABAnaProcessor::debug_</a></div><div class="ttdeci">int debug_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00142">TridentWABAnaProcessor.h:142</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a1ed5227f413c18186aa2153fc1f540aa"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a1ed5227f413c18186aa2153fc1f540aa">TridentWABAnaProcessor::selectionCfg_</a></div><div class="ttdeci">std::string selectionCfg_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00051">TridentWABAnaProcessor.h:51</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a20b3987fa76a504a17245ed3a61974bb"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a20b3987fa76a504a17245ed3a61974bb">TridentWABAnaProcessor::anaName_</a></div><div class="ttdeci">std::string anaName_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00075">TridentWABAnaProcessor.h:75</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a28936b5e7dad5cac4572c2e47464519e"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a28936b5e7dad5cac4572c2e47464519e">TridentWABAnaProcessor::configure</a></div><div class="ttdeci">virtual void configure(const ParameterSet &amp;parameters)</div><div class="ttdoc">Callback for the Processor to configure itself from the given set of parameters.</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8cxx_source.html#l00021">TridentWABAnaProcessor.cxx:21</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a28c3fd6c8fb560d63f36d21b73bb1f5a"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a28c3fd6c8fb560d63f36d21b73bb1f5a">TridentWABAnaProcessor::_vtx_histos</a></div><div class="ttdeci">std::shared_ptr&lt; TridentHistos &gt; _vtx_histos</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00086">TridentWABAnaProcessor.h:86</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a32d626626eee0bc4ade146973f6abb1c"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a32d626626eee0bc4ade146973f6abb1c">TridentWABAnaProcessor::finalize</a></div><div class="ttdeci">virtual void finalize()</div><div class="ttdoc">Callback for the Processor to take any necessary action when the processing of events finishes,...</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8cxx_source.html#l00659">TridentWABAnaProcessor.cxx:659</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a47c38bd78e9b384f4056f6b7c981d9d0"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a47c38bd78e9b384f4056f6b7c981d9d0">TridentWABAnaProcessor::regionSelections_</a></div><div class="ttdeci">std::vector&lt; std::string &gt; regionSelections_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00048">TridentWABAnaProcessor.h:48</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a4c1a34d155508116d0a7207f93c2be15"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a4c1a34d155508116d0a7207f93c2be15">TridentWABAnaProcessor::tsdata_</a></div><div class="ttdeci">TSData * tsdata_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00073">TridentWABAnaProcessor.h:73</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a4c88c2e0a2a6510211fbc4155ba12fd4"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a4c88c2e0a2a6510211fbc4155ba12fd4">TridentWABAnaProcessor::initialize</a></div><div class="ttdeci">virtual void initialize(TTree *tree)</div><div class="ttdoc">Callback for the Processor to take any necessary action when the processing of events starts,...</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8cxx_source.html#l00054">TridentWABAnaProcessor.cxx:54</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a53b8cb7eb7c39f3120121298be7a26c7"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a53b8cb7eb7c39f3120121298be7a26c7">TridentWABAnaProcessor::_reg_vtx_histos</a></div><div class="ttdeci">std::map&lt; std::string, std::shared_ptr&lt; TridentHistos &gt; &gt; _reg_vtx_histos</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00090">TridentWABAnaProcessor.h:90</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a5953b7896f712a1cc6c7495d7f887fe3"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a5953b7896f712a1cc6c7495d7f887fe3">TridentWABAnaProcessor::tree_</a></div><div class="ttdeci">TTree * tree_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00084">TridentWABAnaProcessor.h:84</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a5a220905ef15912943efe26db01a75de"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a5a220905ef15912943efe26db01a75de">TridentWABAnaProcessor::btsdata_</a></div><div class="ttdeci">TBranch * btsdata_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00061">TridentWABAnaProcessor.h:61</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a5b0f452eb17dca06d6ba6043ee9c4153"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a5b0f452eb17dca06d6ba6043ee9c4153">TridentWABAnaProcessor::bvtxs_</a></div><div class="ttdeci">TBranch * bvtxs_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00056">TridentWABAnaProcessor.h:56</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a5b68f1e558dc935165bf5fa26558fd3c"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a5b68f1e558dc935165bf5fa26558fd3c">TridentWABAnaProcessor::mcColl_</a></div><div class="ttdeci">std::string mcColl_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00076">TridentWABAnaProcessor.h:76</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a604867cb1d9addaefe3f40757957b5ef"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a604867cb1d9addaefe3f40757957b5ef">TridentWABAnaProcessor::beamE_</a></div><div class="ttdeci">double beamE_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00106">TridentWABAnaProcessor.h:106</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a63a5e355ac5d38bba6d8bdddb57417ff"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a63a5e355ac5d38bba6d8bdddb57417ff">TridentWABAnaProcessor::trkTimeOffset_</a></div><div class="ttdeci">double trkTimeOffset_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00104">TridentWABAnaProcessor.h:104</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a63df974d1d6aaea5181b47fcdd64cf74"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a63df974d1d6aaea5181b47fcdd64cf74">TridentWABAnaProcessor::_reg_vtx_selectors</a></div><div class="ttdeci">std::map&lt; std::string, std::shared_ptr&lt; BaseSelector &gt; &gt; _reg_vtx_selectors</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00089">TridentWABAnaProcessor.h:89</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a662bcc9e195728c7b5f34dbd25a855d3"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a662bcc9e195728c7b5f34dbd25a855d3">TridentWABAnaProcessor::_reg_WAB_histos</a></div><div class="ttdeci">std::map&lt; std::string, std::shared_ptr&lt; TridentHistos &gt; &gt; _reg_WAB_histos</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00094">TridentWABAnaProcessor.h:94</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a69fd4f52c2ec37ac3b6e9490dcab9ec3"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a69fd4f52c2ec37ac3b6e9490dcab9ec3">TridentWABAnaProcessor::vtxSelector</a></div><div class="ttdeci">std::shared_ptr&lt; BaseSelector &gt; vtxSelector</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00046">TridentWABAnaProcessor.h:46</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a74bb9c9a3f1ae37d5632d4af7b7d480b"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a74bb9c9a3f1ae37d5632d4af7b7d480b">TridentWABAnaProcessor::trkSelCfg_</a></div><div class="ttdeci">std::string trkSelCfg_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00052">TridentWABAnaProcessor.h:52</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a77aaec102d9409a1baeb8c7a2927a613"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a77aaec102d9409a1baeb8c7a2927a613">TridentWABAnaProcessor::evth_</a></div><div class="ttdeci">EventHeader * evth_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00072">TridentWABAnaProcessor.h:72</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a7f60b036b91fb4a246a66b6c74fb3466"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a7f60b036b91fb4a246a66b6c74fb3466">TridentWABAnaProcessor::bmcParts_</a></div><div class="ttdeci">TBranch * bmcParts_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00062">TridentWABAnaProcessor.h:62</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a82c2f9f7723da51f2db1115de0139e6f"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a82c2f9f7723da51f2db1115de0139e6f">TridentWABAnaProcessor::hits_</a></div><div class="ttdeci">std::vector&lt; TrackerHit * &gt; * hits_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00066">TridentWABAnaProcessor.h:66</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_a8d853ce177cc852efbb38e2c67023480"><div class="ttname"><a href="classTridentWABAnaProcessor.html#a8d853ce177cc852efbb38e2c67023480">TridentWABAnaProcessor::_regionsWAB</a></div><div class="ttdeci">std::vector&lt; std::string &gt; _regionsWAB</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00097">TridentWABAnaProcessor.h:97</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_aa4ae0bddc080d6f62b211a6c48647db6"><div class="ttname"><a href="classTridentWABAnaProcessor.html#aa4ae0bddc080d6f62b211a6c48647db6">TridentWABAnaProcessor::reg_it</a></div><div class="ttdeci">std::map&lt; std::string, std::shared_ptr&lt; TridentHistos &gt; &gt;::iterator reg_it</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00100">TridentWABAnaProcessor.h:100</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_aa62ec30f7a8d55f692620c50c88ef052"><div class="ttname"><a href="classTridentWABAnaProcessor.html#aa62ec30f7a8d55f692620c50c88ef052">TridentWABAnaProcessor::_reg_tuples</a></div><div class="ttdeci">std::map&lt; std::string, std::shared_ptr&lt; FlatTupleMaker &gt; &gt; _reg_tuples</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00091">TridentWABAnaProcessor.h:91</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_aaa5aef36ff40406532805460ebc46e30"><div class="ttname"><a href="classTridentWABAnaProcessor.html#aaa5aef36ff40406532805460ebc46e30">TridentWABAnaProcessor::select_randomly</a></div><div class="ttdeci">Iter select_randomly(Iter start, Iter end, RandomGenerator &amp;g)</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00128">TridentWABAnaProcessor.h:128</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_ab15fdcabea699be7e584b77c7e0764fa"><div class="ttname"><a href="classTridentWABAnaProcessor.html#ab15fdcabea699be7e584b77c7e0764fa">TridentWABAnaProcessor::_ah</a></div><div class="ttdeci">std::shared_ptr&lt; AnaHelpers &gt; _ah</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00108">TridentWABAnaProcessor.h:108</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_ab1f9d71fdbc5a92c1b2dc2d2338c9259"><div class="ttname"><a href="classTridentWABAnaProcessor.html#ab1f9d71fdbc5a92c1b2dc2d2338c9259">TridentWABAnaProcessor::calTimeOffset_</a></div><div class="ttdeci">double calTimeOffset_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00103">TridentWABAnaProcessor.h:103</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_ab37e72558f5c494d2a78777df326bbb7"><div class="ttname"><a href="classTridentWABAnaProcessor.html#ab37e72558f5c494d2a78777df326bbb7">TridentWABAnaProcessor::bevth_</a></div><div class="ttdeci">TBranch * bevth_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00063">TridentWABAnaProcessor.h:63</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_aba6b9a35ce65f24a9dc797026d074393"><div class="ttname"><a href="classTridentWABAnaProcessor.html#aba6b9a35ce65f24a9dc797026d074393">TridentWABAnaProcessor::matchPairToVertex</a></div><div class="ttdeci">Vertex * matchPairToVertex(Track *ele, Track *pos, std::vector&lt; Vertex * &gt; &amp;verts)</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8cxx_source.html#l00685">TridentWABAnaProcessor.cxx:685</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_ac0e83b5a237f86b528a7b2d655b0edd0"><div class="ttname"><a href="classTridentWABAnaProcessor.html#ac0e83b5a237f86b528a7b2d655b0edd0">TridentWABAnaProcessor::vtxColl_</a></div><div class="ttdeci">std::string vtxColl_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00080">TridentWABAnaProcessor.h:80</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_ac248a133e0509a98e936ec29dcc29b8c"><div class="ttname"><a href="classTridentWABAnaProcessor.html#ac248a133e0509a98e936ec29dcc29b8c">TridentWABAnaProcessor::matchToMCParticle</a></div><div class="ttdeci">std::pair&lt; Track *, MCParticle * &gt; matchToMCParticle(Track *part, std::vector&lt; MCParticle * &gt; &amp;mcParts)</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8cxx_source.html#l00700">TridentWABAnaProcessor.cxx:700</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_ad4b16ff352dc41754de5794223dccc88"><div class="ttname"><a href="classTridentWABAnaProcessor.html#ad4b16ff352dc41754de5794223dccc88">TridentWABAnaProcessor::trkSelector</a></div><div class="ttdeci">std::shared_ptr&lt; BaseSelector &gt; trkSelector</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00047">TridentWABAnaProcessor.h:47</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_adbc941428a592ff27598768c11ef936a"><div class="ttname"><a href="classTridentWABAnaProcessor.html#adbc941428a592ff27598768c11ef936a">TridentWABAnaProcessor::getUnmatchedClusters</a></div><div class="ttdeci">std::vector&lt; CalCluster * &gt; getUnmatchedClusters(std::vector&lt; CalCluster * &gt; &amp;allClusters, std::vector&lt; std::pair&lt; CalCluster *, Track * &gt; &gt; electrons, std::vector&lt; std::pair&lt; CalCluster *, Track * &gt; &gt; positrons)</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8cxx_source.html#l00748">TridentWABAnaProcessor.cxx:748</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_ae135d50f6084fd455f4b29276e962442"><div class="ttname"><a href="classTridentWABAnaProcessor.html#ae135d50f6084fd455f4b29276e962442">TridentWABAnaProcessor::vtxs_</a></div><div class="ttdeci">std::vector&lt; Vertex * &gt; * vtxs_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00065">TridentWABAnaProcessor.h:65</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_aefb2763c563df3f71d92e5f14aa7c1b4"><div class="ttname"><a href="classTridentWABAnaProcessor.html#aefb2763c563df3f71d92e5f14aa7c1b4">TridentWABAnaProcessor::_regions</a></div><div class="ttdeci">std::vector&lt; std::string &gt; _regions</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00096">TridentWABAnaProcessor.h:96</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_af1e584f22035fa044343c8c4a09c42b8"><div class="ttname"><a href="classTridentWABAnaProcessor.html#af1e584f22035fa044343c8c4a09c42b8">TridentWABAnaProcessor::mcParts_</a></div><div class="ttdeci">std::vector&lt; MCParticle * &gt; * mcParts_</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00071">TridentWABAnaProcessor.h:71</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_af22b6242d85db84b80b7f5d8bfa0d6ab"><div class="ttname"><a href="classTridentWABAnaProcessor.html#af22b6242d85db84b80b7f5d8bfa0d6ab">TridentWABAnaProcessor::isData</a></div><div class="ttdeci">int isData</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8h_source.html#l00107">TridentWABAnaProcessor.h:107</a></div></div>
<div class="ttc" id="aclassTridentWABAnaProcessor_html_af32f4e04457c02b6482987d6bd03ab83"><div class="ttname"><a href="classTridentWABAnaProcessor.html#af32f4e04457c02b6482987d6bd03ab83">TridentWABAnaProcessor::TridentWABAnaProcessor</a></div><div class="ttdeci">TridentWABAnaProcessor(const std::string &amp;name, Process &amp;process)</div><div class="ttdef"><b>Definition</b> <a href="TridentWABAnaProcessor_8cxx_source.html#l00013">TridentWABAnaProcessor.cxx:13</a></div></div>
<div class="ttc" id="aclassVertex_html"><div class="ttname"><a href="classVertex.html">Vertex</a></div><div class="ttdef"><b>Definition</b> <a href="Vertex_8h_source.html#l00022">Vertex.h:22</a></div></div>
<div class="ttc" id="astructTSData_1_1tsBits_html_a802fc27514d2d1268893f4a5e7526b8e"><div class="ttname"><a href="structTSData_1_1tsBits.html#a802fc27514d2d1268893f4a5e7526b8e">TSData::tsBits::Single_2_Bot</a></div><div class="ttdeci">bool Single_2_Bot</div><div class="ttdef"><b>Definition</b> <a href="TSData_8h_source.html#l00049">TSData.h:49</a></div></div>
<div class="ttc" id="astructTSData_1_1tsBits_html_a9a44e6a7d70b688ab3cbba7777c489c8"><div class="ttname"><a href="structTSData_1_1tsBits.html#a9a44e6a7d70b688ab3cbba7777c489c8">TSData::tsBits::Single_2_Top</a></div><div class="ttdeci">bool Single_2_Top</div><div class="ttdef"><b>Definition</b> <a href="TSData_8h_source.html#l00045">TSData.h:45</a></div></div>
<div class="ttc" id="astructTSData_1_1tsBits_html_aa5707e1307125c300a6cd5d52cd3e30a"><div class="ttname"><a href="structTSData_1_1tsBits.html#aa5707e1307125c300a6cd5d52cd3e30a">TSData::tsBits::Single_3_Top</a></div><div class="ttdeci">bool Single_3_Top</div><div class="ttdef"><b>Definition</b> <a href="TSData_8h_source.html#l00046">TSData.h:46</a></div></div>
<div class="ttc" id="astructTSData_1_1tsBits_html_aaa30a3c2b1d454c7d5c2b52dc2871db7"><div class="ttname"><a href="structTSData_1_1tsBits.html#aaa30a3c2b1d454c7d5c2b52dc2871db7">TSData::tsBits::Single_3_Bot</a></div><div class="ttdeci">bool Single_3_Bot</div><div class="ttdef"><b>Definition</b> <a href="TSData_8h_source.html#l00050">TSData.h:50</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
