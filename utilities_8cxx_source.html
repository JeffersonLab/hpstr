<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hpstr: processors/src/utilities.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hpstr
   </div>
   <div id="projectbrief">The Heavy Photon Search Toolkit for Reconstruction (hpstr) provides an interface to physics data from the HPS experiment saved in the LCIO format and converts it into an ROOT based format.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4ac0cf52b60bedb296701740c5b274e6.html">processors</a></li><li class="navelem"><a class="el" href="dir_f51cfae32239c0a2b15b7972d5cbb270.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">utilities.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="utilities_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utilities_8h.html">utilities.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">   void utils::buildTrackCollection(std::vector&lt;Track*&gt;&amp; tracks, </span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">   Event* event,</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">   const char* LCTrackCollection)</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">   {</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">   EVENT::LCCollection* lc_tracks event-&gt;getLCCollection(LCTrackCollection);</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">   }</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="namespaceutils.html#a3fa61a8f1fe762d57473f3193181a256">   18</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceutils.html#a3fa61a8f1fe762d57473f3193181a256">utils::hasCollection</a>(EVENT::LCEvent* lc_event,<span class="keyword">const</span> std::string&amp; collection) {</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160; </div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <span class="keywordflow">if</span> (!lc_event || collection.empty())</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160; </div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keyword">auto</span> evColls = lc_event-&gt;getCollectionNames();</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keyword">auto</span> it = std::find(evColls-&gt;begin(),evColls-&gt;end(), collection);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordflow">if</span> (it!=evColls-&gt;end()) </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="namespaceutils.html#a38245351b04f5e711d627819b932fbd4">   31</a></span>&#160;<a class="code" href="classVertex.html">Vertex</a>* <a class="code" href="namespaceutils.html#a38245351b04f5e711d627819b932fbd4">utils::buildVertex</a>(EVENT::Vertex* lc_vertex) { </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (!lc_vertex) </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">//TODO move the static cast outside?</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="classVertex.html">Vertex</a>* vertex = <span class="keyword">new</span> <a class="code" href="classVertex.html">Vertex</a>();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    vertex-&gt;<a class="code" href="classVertex.html#add635266c1cc210bb98622624a1e873f">setChi2</a>         (lc_vertex-&gt;getChi2());</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    vertex-&gt;<a class="code" href="classVertex.html#aa5fdb14072b54286239e89d73a49c073">setProbability</a>  (lc_vertex-&gt;getProbability());</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    vertex-&gt;<a class="code" href="classVertex.html#a5f000855db408e735c6bc7ac6c39289c">setID</a>           (lc_vertex-&gt;id());</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    vertex-&gt;<a class="code" href="classVertex.html#a9d98a59d4453e8b71e36dff35da0ea8d">setType</a>         (lc_vertex-&gt;getAlgorithmType());</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    vertex-&gt;<a class="code" href="classVertex.html#a38718cd3b3eaea72e89eed3915035c95">setVtxParameters</a>((std::vector&lt;float&gt;)lc_vertex-&gt;getParameters());</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="comment">//TODO Rotate the covariance matrix!</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    vertex-&gt;<a class="code" href="classVertex.html#acdcc221127f2db7b58a83ad7832fa493">setCovariance</a>   ((std::vector&lt;float&gt;)lc_vertex-&gt;getCovMatrix());</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">//std::cout&lt;&lt;lc_vertex-&gt;getVertexParameterNames[0]&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    vertex-&gt;<a class="code" href="classVertex.html#a9d98a59d4453e8b71e36dff35da0ea8d">setType</a>         (lc_vertex-&gt;getAlgorithmType());</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    vertex-&gt;<a class="code" href="classVertex.html#a1a189ebe733bd13292d9f3b7cece97c2">setPos</a>          (lc_vertex-&gt;getPosition(),<span class="keyword">false</span>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> vertex;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="namespaceutils.html#a8472a8f8efa0e72f364542ad79a5c697">   56</a></span>&#160;<a class="code" href="classParticle.html">Particle</a>* <a class="code" href="namespaceutils.html#a8472a8f8efa0e72f364542ad79a5c697">utils::buildParticle</a>(EVENT::ReconstructedParticle* lc_particle,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        EVENT::LCCollection* gbl_kink_data,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        EVENT::LCCollection* track_data)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{ </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (!lc_particle) </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classParticle.html">Particle</a>* part = <span class="keyword">new</span> <a class="code" href="classParticle.html">Particle</a>();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="comment">// Set the charge of the HpsParticle    </span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    part-&gt;<a class="code" href="classParticle.html#a8b3ca2d37e7a5399465649fb5fb49096">setCharge</a>(lc_particle-&gt;getCharge());</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Set the HpsParticle type</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    part-&gt;<a class="code" href="classParticle.html#a96c2b792855a6d73ae08e9f56d46a9ad">setType</a>(lc_particle-&gt;getType());</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="comment">// Set the energy of the HpsParticle</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    part-&gt;<a class="code" href="classParticle.html#aa89352316465c459725ccb5610b19dd9">setEnergy</a>(lc_particle-&gt;getEnergy());</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">// Set the momentum of the HpsParticle</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    part-&gt;<a class="code" href="classParticle.html#a9a246cac55a414742052bc8f46218c6e">setMomentum</a>(lc_particle-&gt;getMomentum());</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// Set the mass of the HpsParticle</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    part-&gt;<a class="code" href="classParticle.html#a50065a7bcb4b384286dfc32e0d06d3b7">setMass</a>(lc_particle-&gt;getMass());</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// Set the goodness of PID for the HpsParticle</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    part-&gt;<a class="code" href="classParticle.html#a4ec278fd10816831508c72e35d461e17">setGoodnessOfPID</a>(lc_particle-&gt;getGoodnessOfPID());</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="comment">// Set the PDG ID for the HpsParticle</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    part-&gt;<a class="code" href="classParticle.html#a4f0e9db32ad4b89b376a4b6a20cf0fcf">setPDG</a>(lc_particle-&gt;getParticleIDUsed()-&gt;getPDG());</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">// Set the Track for the HpsParticle</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span> (lc_particle-&gt;getTracks().size()&gt;0)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="classTrack.html">Track</a> * trkPtr = <a class="code" href="namespaceutils.html#a721ed160b22a3a70f98dba79789df5c9">utils::buildTrack</a>(lc_particle-&gt;getTracks()[0], gbl_kink_data, track_data);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        part-&gt;<a class="code" href="classParticle.html#aa2dd28c594c2b4ff2fc590c053067a47">setTrack</a>(trkPtr);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keyword">delete</span> trkPtr;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="comment">// Set the Track for the HpsParticle</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">if</span> (lc_particle-&gt;getClusters().size() &gt; 0)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="classCalCluster.html">CalCluster</a> * clusBuf = <a class="code" href="namespaceutils.html#a2d01ad798936250108f868400e1e3051">utils::buildCalCluster</a>(lc_particle-&gt;getClusters()[0]);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        part-&gt;<a class="code" href="classParticle.html#ab83ad18659c25efdb72bd9c7c6f11189">setCluster</a>(clusBuf);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keyword">delete</span> clusBuf;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">return</span> part;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;}</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160; </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="namespaceutils.html#a2d01ad798936250108f868400e1e3051">  106</a></span>&#160;<a class="code" href="classCalCluster.html">CalCluster</a>* <a class="code" href="namespaceutils.html#a2d01ad798936250108f868400e1e3051">utils::buildCalCluster</a>(EVENT::Cluster* lc_cluster) </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{ </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordflow">if</span> (!lc_cluster) </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="classCalCluster.html">CalCluster</a>* cluster = <span class="keyword">new</span> <a class="code" href="classCalCluster.html">CalCluster</a>();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// Set the cluster position</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    cluster-&gt;<a class="code" href="classCalCluster.html#a22f0c3dd9d115832baf9e9ccecbee37f">setPosition</a>(lc_cluster-&gt;getPosition());</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// Set the cluster energy</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    cluster-&gt;<a class="code" href="classCalCluster.html#aa89352316465c459725ccb5610b19dd9">setEnergy</a>(lc_cluster-&gt;getEnergy());</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">// Get the ecal hits used to create the cluster</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    EVENT::CalorimeterHitVec lc_hits = lc_cluster-&gt;getCalorimeterHits();</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="comment">// Loop over all of the Ecal hits and add them to the Ecal cluster.  The</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="comment">// seed hit is set to be the hit with the highest energy.  The cluster time</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// is set to be the hit time of the seed hit.</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">double</span> senergy = 0;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">double</span> stime = 0;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> ihit = 0; ihit &lt; (<a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a61569f2965b7a369eb10b6d75d410d11">int</a>) lc_hits.size(); ++ihit) {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="comment">// Get an Ecal hit</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        EVENT::CalorimeterHit* lc_hit  = lc_hits[ihit];</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">if</span> (senergy &lt; lc_hit-&gt;getEnergy()) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            senergy = lc_hit-&gt;getEnergy();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            stime = lc_hit-&gt;getTime();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">// Set the time of the cluster</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    cluster-&gt;<a class="code" href="classCalCluster.html#acb0ffd73929350f517aeba27c9463e7f">setTime</a>(stime);</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160; </div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> cluster;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="namespaceutils.html#ac358ecc5a6e709ba4b0923fb312283d4">  142</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceutils.html#ac358ecc5a6e709ba4b0923fb312283d4">utils::IsSameTrack</a>(<a class="code" href="classTrack.html">Track</a>* trk1, <a class="code" href="classTrack.html">Track</a>* trk2) {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">double</span> tol = 1e-6;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (fabs(trk1-&gt;<a class="code" href="classTrack.html#a872032bb26c1b5a2103ec9ee34a3408b">getD0</a>()        - trk2-&gt;<a class="code" href="classTrack.html#a872032bb26c1b5a2103ec9ee34a3408b">getD0</a>())        &gt; tol ||</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            fabs(trk1-&gt;<a class="code" href="classTrack.html#a3f251561299bdaf6e3acefef6c7bf6af">getPhi</a>()       - trk2-&gt;<a class="code" href="classTrack.html#a3f251561299bdaf6e3acefef6c7bf6af">getPhi</a>())       &gt; tol ||</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            fabs(trk1-&gt;<a class="code" href="classTrack.html#a671056cd2b40700574324838f7a99143">getOmega</a>()     - trk2-&gt;<a class="code" href="classTrack.html#a671056cd2b40700574324838f7a99143">getOmega</a>())     &gt; tol ||</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            fabs(trk1-&gt;<a class="code" href="classTrack.html#a9dc9df56c8f1b2a740e645058348aa40">getTanLambda</a>() - trk2-&gt;<a class="code" href="classTrack.html#a9dc9df56c8f1b2a740e645058348aa40">getTanLambda</a>()) &gt; tol ||</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            fabs(trk1-&gt;<a class="code" href="classTrack.html#ac657325cfc2596e354e5262a9c264526">getZ0</a>()        - trk2-&gt;<a class="code" href="classTrack.html#ac657325cfc2596e354e5262a9c264526">getZ0</a>())        &gt; tol ||</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            fabs(trk1-&gt;<a class="code" href="classTrack.html#a4f0ac38a52ef74d7167b02e514d2232d">getChi2Ndf</a>()   - trk2-&gt;<a class="code" href="classTrack.html#a4f0ac38a52ef74d7167b02e514d2232d">getChi2Ndf</a>())   &gt; tol </div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;       ) </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="namespaceutils.html#a721ed160b22a3a70f98dba79789df5c9">  157</a></span>&#160;<a class="code" href="classTrack.html">Track</a>* <a class="code" href="namespaceutils.html#a721ed160b22a3a70f98dba79789df5c9">utils::buildTrack</a>(EVENT::Track* lc_track,</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        EVENT::LCCollection* gbl_kink_data,</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        EVENT::LCCollection* track_data) {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span> (!lc_track)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="classTrack.html">Track</a>* <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a> = <span class="keyword">new</span> <a class="code" href="classTrack.html">Track</a>();</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// Set the track parameters</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setTrackParameters(lc_track-&gt;getD0(), </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            lc_track-&gt;getPhi(), </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            lc_track-&gt;getOmega(), </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            lc_track-&gt;getTanLambda(), </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            lc_track-&gt;getZ0());</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">// Set the track id</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setID(lc_track-&gt;id());</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="comment">// Set the track type</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setType(lc_track-&gt;getType()); </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">// Set the track fit chi^2</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setChi2(lc_track-&gt;getChi2());</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">// Set the track ndf </span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setNdf(lc_track-&gt;getNdf());</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// Set the track covariance matrix</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setCov(<span class="keyword">static_cast&lt;</span>std::vector&lt;float&gt; <span class="keyword">&gt;</span> (lc_track-&gt;getCovMatrix()));</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// Set the position of the extrapolated track at the ECal face.  The</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">// extrapolation uses the full 3D field map.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">const</span> EVENT::TrackState* track_state </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        = lc_track-&gt;getTrackState(EVENT::TrackState::AtCalorimeter); </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> (track_state) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordtype">double</span> position_at_ecal[3] = { </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            track_state-&gt;getReferencePoint()[1],  </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            track_state-&gt;getReferencePoint()[2],  </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            track_state-&gt;getReferencePoint()[0]</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        };</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setPositionAtEcal(position_at_ecal); </div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (gbl_kink_data) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">// Instantiate an LCRelation navigator which will allow faster access </span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">// to GBLKinkData object</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        std::shared_ptr&lt;UTIL::LCRelationNavigator&gt; gbl_kink_data_nav = std::make_shared&lt;UTIL::LCRelationNavigator&gt;(gbl_kink_data);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">// Get the list of GBLKinkData associated with the LCIO Track</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        EVENT::LCObjectVec gbl_kink_data_list </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            = gbl_kink_data_nav-&gt;getRelatedFromObjects(lc_track);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="comment">// The container of GBLKinkData objects should only contain a </span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="comment">// single object. If not, throw an exception</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">if</span> (gbl_kink_data_list.size() == 1) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="comment">/*</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">               std::cout&lt;&lt;&quot;[ Utilities ]: The collection &quot; </span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">               + std::string(Collections::KINK_DATA)</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">               + &quot; has the wrong data structure for this track&quot;&lt;&lt;std::endl; </span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">               */</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="comment">// Get the list GBLKinkData GenericObject associated with the LCIO Track</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            IMPL::LCGenericObjectImpl* gbl_kink_datum </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                = <span class="keyword">static_cast&lt;</span>IMPL::LCGenericObjectImpl*<span class="keyword">&gt;</span>(gbl_kink_data_list.at(0));</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="comment">// Set the lambda and phi kink values</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ikink = 0; ikink &lt; gbl_kink_datum-&gt;getNDouble(); ++ikink) { </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setLambdaKink(ikink, gbl_kink_datum-&gt;getFloatVal(ikink));</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setPhiKink(ikink, gbl_kink_datum-&gt;getDoubleVal(ikink));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }<span class="comment">//gbl_kink_data has right structure</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160; </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    } <span class="comment">// add gbl kink data</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">if</span> (track_data) { </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="comment">// Instantiate an LCRelation navigator which will allow faster access</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="comment">// to TrackData objects  </span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        std::shared_ptr&lt;UTIL::LCRelationNavigator&gt; track_data_nav = std::make_shared&lt;UTIL::LCRelationNavigator&gt;(track_data);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// Get the list of TrackData associated with the LCIO Track</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        EVENT::LCObjectVec track_data_list = track_data_nav-&gt;getRelatedFromObjects(lc_track);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="comment">// The container of TrackData objects should only contain a single</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="comment">//  object.  If not, throw an exception.</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">if</span> (track_data_list.size() == 1) { </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160; </div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="comment">// Get the TrackData GenericObject associated with the LCIO Track</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            IMPL::LCGenericObjectImpl* track_datum = <span class="keyword">static_cast&lt;</span>IMPL::LCGenericObjectImpl*<span class="keyword">&gt;</span>(track_data_list.at(0));</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="comment">// Check that the TrackData data structure is correct.  If it&#39;s</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="comment">// not, throw a runtime exception.   </span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="keywordflow">if</span> (track_datum-&gt;getNDouble() &gt; 14 || track_datum-&gt;getNFloat() &gt; 4 </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                || track_datum-&gt;getNInt() != 1) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;[ TrackingProcessor ]: The collection &quot;</span> </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                         + std::string(<a class="code" href="namespaceCollections.html#ae402e358f3b61b9fab89667a956b5253">Collections::TRACK_DATA</a>)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                         + <span class="stringliteral">&quot; has the wrong structure.&quot;</span>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            <span class="comment">// Set the SvtTrack isolation values</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iso_index = 0; iso_index &lt; track_datum-&gt;getNDouble(); ++iso_index) { </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setIsolation(iso_index, track_datum-&gt;getDoubleVal(iso_index));</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            }</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="comment">// Set the SvtTrack time</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setTrackTime(track_datum-&gt;getFloatVal(0));</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="comment">// Set the Track momentum</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">if</span> (track_datum-&gt;getNFloat()==4)</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setMomentum(track_datum-&gt;getFloatVal(1),track_datum-&gt;getFloatVal(2),track_datum-&gt;getFloatVal(3));</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="comment">// Set the volume (top/bottom) in which the SvtTrack resides</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>-&gt;setTrackVolume(track_datum-&gt;getIntVal(0));</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        }</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    } <span class="comment">//add track data  </span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">track</a>;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;}</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno"><a class="line" href="namespaceutils.html#afd800cb48040eb2458c898be282a731c">  280</a></span>&#160;<a class="code" href="classRawSvtHit.html">RawSvtHit</a>* <a class="code" href="namespaceutils.html#afd800cb48040eb2458c898be282a731c">utils::buildRawHit</a>(EVENT::TrackerRawData* rawTracker_hit,</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        EVENT::LCCollection* raw_svt_hit_fits) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160; </div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <a class="code" href="ECalDataProcessor_8h.html#ac2cde2846de17b59e2d372137b8dcb9c">EVENT::long64</a> value =</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <a class="code" href="ECalDataProcessor_8h.html#ac2cde2846de17b59e2d372137b8dcb9c">EVENT::long64</a>(rawTracker_hit-&gt;getCellID0() &amp; 0xffffffff) |</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        ( <a class="code" href="ECalDataProcessor_8h.html#ac2cde2846de17b59e2d372137b8dcb9c">EVENT::long64</a>(rawTracker_hit-&gt;getCellID1() ) &lt;&lt; 32       );</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="namespaceutils.html#a1ed2a27a078620b6befd9411673440da">decoder</a>.setValue(value);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="classRawSvtHit.html">RawSvtHit</a>* rawHit = <span class="keyword">new</span> <a class="code" href="classRawSvtHit.html">RawSvtHit</a>();</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    rawHit-&gt;<a class="code" href="classRawSvtHit.html#a2c26993ecb697acfd52b60ff2c2624b3">setSystem</a>(<a class="code" href="namespaceutils.html#a1ed2a27a078620b6befd9411673440da">decoder</a>[<span class="stringliteral">&quot;system&quot;</span>]);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    rawHit-&gt;<a class="code" href="classRawSvtHit.html#a15184e2d6fe8e166f5bedb6b5c436616">setBarrel</a>(<a class="code" href="namespaceutils.html#a1ed2a27a078620b6befd9411673440da">decoder</a>[<span class="stringliteral">&quot;barrel&quot;</span>]);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    rawHit-&gt;<a class="code" href="classRawSvtHit.html#afbd2fbd594c8ee140b028f505631f682">setLayer</a>(<a class="code" href="namespaceutils.html#a1ed2a27a078620b6befd9411673440da">decoder</a>[<span class="stringliteral">&quot;layer&quot;</span>]);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    rawHit-&gt;<a class="code" href="classRawSvtHit.html#affd2ff44d4a988d312672fef9a9f6f72">setModule</a>(<a class="code" href="namespaceutils.html#a1ed2a27a078620b6befd9411673440da">decoder</a>[<span class="stringliteral">&quot;module&quot;</span>]);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    rawHit-&gt;<a class="code" href="classRawSvtHit.html#a8b6926403a4ea14c3b14a47af0adac78">setSensor</a>(<a class="code" href="namespaceutils.html#a1ed2a27a078620b6befd9411673440da">decoder</a>[<span class="stringliteral">&quot;sensor&quot;</span>]);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    rawHit-&gt;<a class="code" href="classRawSvtHit.html#a8fbf2f10efd0cf427a2d4b1ae92def4b">setSide</a>(<a class="code" href="namespaceutils.html#a1ed2a27a078620b6befd9411673440da">decoder</a>[<span class="stringliteral">&quot;side&quot;</span>]);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    rawHit-&gt;<a class="code" href="classRawSvtHit.html#a8889167c257cff23dc1fb688471de7fd">setStrip</a>(<a class="code" href="namespaceutils.html#a1ed2a27a078620b6befd9411673440da">decoder</a>[<span class="stringliteral">&quot;strip&quot;</span>]);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160; </div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="comment">// Extract ADC values for this hit</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordtype">int</span> hit_adcs[6] = { </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        (<a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)rawTracker_hit-&gt;getADCValues().at(0), </div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        (<a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)rawTracker_hit-&gt;getADCValues().at(1), </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        (<a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)rawTracker_hit-&gt;getADCValues().at(2), </div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        (<a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)rawTracker_hit-&gt;getADCValues().at(3), </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        (<a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)rawTracker_hit-&gt;getADCValues().at(4), </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        (<a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a61569f2965b7a369eb10b6d75d410d11">int</a>)rawTracker_hit-&gt;getADCValues().at(5)};</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    rawHit-&gt;<a class="code" href="classRawSvtHit.html#aef52f0e9464bb90383adba818fbfe7be">setADCs</a>(hit_adcs);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span> (raw_svt_hit_fits) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        std::shared_ptr&lt;UTIL::LCRelationNavigator&gt; rawTracker_hit_fits_nav = std::make_shared&lt;UTIL::LCRelationNavigator&gt;(raw_svt_hit_fits);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="comment">// Get the list of fit params associated with the raw tracker hit</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        EVENT::LCObjectVec rawTracker_hit_fits_list</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            = rawTracker_hit_fits_nav-&gt;getRelatedToObjects(rawTracker_hit);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="comment">// Get the list SVTFittedRawTrackerHit GenericObject associated with the SVTRawTrackerHit</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        IMPL::LCGenericObjectImpl* hit_fit_param</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            = <span class="keyword">static_cast&lt;</span>IMPL::LCGenericObjectImpl*<span class="keyword">&gt;</span>(rawTracker_hit_fits_list.at(0));</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160; </div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordtype">double</span> fit_params[5] = { </div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            (double)hit_fit_param-&gt;getDoubleVal(0), </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            (double)hit_fit_param-&gt;getDoubleVal(1), </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            (double)hit_fit_param-&gt;getDoubleVal(2), </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            (double)hit_fit_param-&gt;getDoubleVal(3), </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            (double)hit_fit_param-&gt;getDoubleVal(4)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        };</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        rawHit-&gt;<a class="code" href="classRawSvtHit.html#a338400c9c1f8653b6f76b9566f1cee79">setFit</a>(fit_params, 0);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">if</span>(rawTracker_hit_fits_list.size()&gt;1)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            hit_fit_param = <span class="keyword">static_cast&lt;</span>IMPL::LCGenericObjectImpl*<span class="keyword">&gt;</span>(rawTracker_hit_fits_list.at(1));</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            fit_params[0] = (double)hit_fit_param-&gt;getDoubleVal(0); </div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            fit_params[1] = (double)hit_fit_param-&gt;getDoubleVal(1); </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            fit_params[2] = (double)hit_fit_param-&gt;getDoubleVal(2); </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            fit_params[3] = (double)hit_fit_param-&gt;getDoubleVal(3); </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            fit_params[4] = (double)hit_fit_param-&gt;getDoubleVal(4);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            rawHit-&gt;<a class="code" href="classRawSvtHit.html#a338400c9c1f8653b6f76b9566f1cee79">setFit</a>(fit_params, 1);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        rawHit-&gt;<a class="code" href="classRawSvtHit.html#af98897331f04479059afcac073d15360">setFitN</a>(rawTracker_hit_fits_list.size());</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    }<span class="comment">//raw svt hit fits</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">return</span> rawHit;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160; </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;}<span class="comment">//build raw hit</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">//type = 0 RotatedHelicalTrackHit type = 1 SiCluster</span></div>
<div class="line"><a name="l00346"></a><span class="lineno"><a class="line" href="namespaceutils.html#a6bd5c589b49d0a2b2404965d82f7fe51">  346</a></span>&#160;<a class="code" href="classTrackerHit.html">TrackerHit</a>* <a class="code" href="namespaceutils.html#a6bd5c589b49d0a2b2404965d82f7fe51">utils::buildTrackerHit</a>(IMPL::TrackerHitImpl* lc_tracker_hit, <span class="keywordtype">bool</span> rotate, <span class="keywordtype">int</span> <a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>) { </div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <span class="keywordflow">if</span> (!lc_tracker_hit)</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <a class="code" href="classTrackerHit.html">TrackerHit</a>* tracker_hit = <span class="keyword">new</span> <a class="code" href="classTrackerHit.html">TrackerHit</a>();</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">// Get the position of the LCIO TrackerHit and set the position of </span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">// the TrackerHit</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordtype">double</span> hit_position[3] = { </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        lc_tracker_hit-&gt;getPosition()[0],  <span class="comment">//lcio x</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        lc_tracker_hit-&gt;getPosition()[1],  <span class="comment">//lcio y</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        lc_tracker_hit-&gt;getPosition()[2]   <span class="comment">//lcio z</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    };</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    tracker_hit-&gt;<a class="code" href="classTrackerHit.html#ad48e43b6f028fcbbb9ad7e7f29b38c31">setPosition</a>(hit_position, rotate, <a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">// Set the covariance matrix of the SvtHit</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    tracker_hit-&gt;<a class="code" href="classTrackerHit.html#a2f109bf8d5ff2fb4cd2693d7fe31bb70">setCovarianceMatrix</a>(lc_tracker_hit-&gt;getCovMatrix());</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// Set the time of the SvtHit</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    tracker_hit-&gt;<a class="code" href="classTrackerHit.html#acb0ffd73929350f517aeba27c9463e7f">setTime</a>(lc_tracker_hit-&gt;getTime());</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// Set the charge of the SvtHit</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    tracker_hit-&gt;<a class="code" href="classTrackerHit.html#aa0e4b074a508860d2898a0e2ff127d66">setCharge</a>(lc_tracker_hit-&gt;getEDep());</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">// Set the LCIO id</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    tracker_hit-&gt;<a class="code" href="classTrackerHit.html#a5f000855db408e735c6bc7ac6c39289c">setID</a>(lc_tracker_hit-&gt;id());</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160; </div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">return</span> tracker_hit;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160; </div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;}</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160; </div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">//type 0 rotatedHelicalHit  type 1 SiClusterHit</span></div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="namespaceutils.html#a434b38abbf31e8df9d32eda0de82e2f9">  380</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceutils.html#a434b38abbf31e8df9d32eda0de82e2f9">utils::addRawInfoTo3dHit</a>(<a class="code" href="classTrackerHit.html">TrackerHit</a>* tracker_hit, </div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        IMPL::TrackerHitImpl* lc_tracker_hit,</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        EVENT::LCCollection* raw_svt_fits, std::vector&lt;RawSvtHit*&gt;* rawHits,<span class="keywordtype">int</span> <a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a>) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160; </div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span> (!tracker_hit || !lc_tracker_hit)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160; </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="keywordtype">float</span> rawcharge = 0;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">//0 top 1 bottom</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordtype">int</span> volume = -1;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">//1-6(7) for rotated  0-13 for SiCluster</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespaceconfig_1_1fitBL__cfg.html#a95f2e9e3b2b2d837f962bcfb58a2011e">layer</a> = -1;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">//Get the Raw content of the tracker hits</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    EVENT::LCObjectVec lc_rawHits             = lc_tracker_hit-&gt;getRawHits();  </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irh = 0 ; irh &lt; lc_rawHits.size(); ++irh) {</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160; </div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        <span class="comment">//TODO useless to build all of it?</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="classRawSvtHit.html">RawSvtHit</a>* rawHit = <a class="code" href="namespaceutils.html#afd800cb48040eb2458c898be282a731c">buildRawHit</a>(<span class="keyword">static_cast&lt;</span>EVENT::TrackerRawData*<span class="keyword">&gt;</span>(lc_rawHits.at(irh)),raw_svt_fits); </div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        rawcharge += rawHit-&gt;<a class="code" href="classRawSvtHit.html#a9708d56d4159897347acc2bfcdce744d">getAmp</a>(0);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keywordtype">int</span> currentHitVolume = rawHit-&gt;<a class="code" href="classRawSvtHit.html#aefd72f7f5df118b603e0f3020f537a5a">getModule</a>() % 2 ? 1 : 0;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordtype">int</span> currentHitLayer  = (rawHit-&gt;<a class="code" href="classRawSvtHit.html#a5b4df54b0e268839998175628116d79d">getLayer</a>() - 1 ) / 2;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespaceconfig_1_1anaBhTuple__cfg.html#a7aead736a07eaf25623ad7bfa1f0ee2d">type</a> == 1) </div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            currentHitLayer = rawHit-&gt;<a class="code" href="classRawSvtHit.html#a5b4df54b0e268839998175628116d79d">getLayer</a>() - 1;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keywordflow">if</span> (volume == -1 )</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            volume = currentHitVolume;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <span class="keywordflow">if</span> ( currentHitVolume != volume)</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                std::cout&lt;&lt;<span class="stringliteral">&quot;[ ERROR ] : utils::addRawInfoTo3dHit raw hits with inconsistent volume found&quot;</span> &lt;&lt;std::endl;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160; </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="namespaceconfig_1_1fitBL__cfg.html#a95f2e9e3b2b2d837f962bcfb58a2011e">layer</a> == -1 )</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <a class="code" href="namespaceconfig_1_1fitBL__cfg.html#a95f2e9e3b2b2d837f962bcfb58a2011e">layer</a> = currentHitLayer;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">if</span> (currentHitLayer != <a class="code" href="namespaceconfig_1_1fitBL__cfg.html#a95f2e9e3b2b2d837f962bcfb58a2011e">layer</a>)</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                std::cout&lt;&lt;<span class="stringliteral">&quot;[ ERROR ] : utils::addRawInfoTo3dHit raw hits with inconsistent layer found&quot;</span> &lt;&lt;std::endl;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="comment">//TODO:: store only if asked</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        tracker_hit-&gt;<a class="code" href="classTrackerHit.html#a2df57089ab769b31361900ffffb483a2">addRawHit</a>(rawHit);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        <span class="keywordflow">if</span> (rawHits)</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            rawHits-&gt;push_back(rawHit);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160; </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    tracker_hit-&gt;<a class="code" href="classTrackerHit.html#a8e6e66284ccad34ec77830cf93e421a5">setRawCharge</a>(rawcharge);</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    tracker_hit-&gt;<a class="code" href="classTrackerHit.html#a1c9289fa499243af8164eb1d851784a1">setVolume</a>(volume);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    tracker_hit-&gt;<a class="code" href="classTrackerHit.html#a14249dd02874bf12134f0d5241912490">setLayer</a>(<a class="code" href="namespaceconfig_1_1fitBL__cfg.html#a95f2e9e3b2b2d837f962bcfb58a2011e">layer</a>);</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160; </div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;}</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160; </div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<span class="comment">//TODO-improve shared finding algorithm </span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno"><a class="line" href="namespaceutils.html#a5e1646b6a827eb4b57b130766d574583">  435</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceutils.html#a5e1646b6a827eb4b57b130766d574583">utils::isUsedByTrack</a>(IMPL::TrackerHitImpl* lc_tracker_hit,</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        EVENT::Track* lc_track) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    EVENT::TrackerHitVec trk_lc_tracker_hits = lc_track-&gt;getTrackerHits();</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160; </div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> trk_lc_tracker_hit : trk_lc_tracker_hits) {</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="comment">//std::cout&lt;&lt;lc_tracker_hit-&gt;id()&lt;&lt;&quot; &quot; &lt;&lt;trk_lc_tracker_hit-&gt;id()&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">if</span> (lc_tracker_hit -&gt; <span class="keywordtype">id</span>() == trk_lc_tracker_hit -&gt; <span class="keywordtype">id</span>())</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160; </div>
<div class="line"><a name="l00448"></a><span class="lineno"><a class="line" href="namespaceutils.html#a379858785e5e2d3d2e2b60921b5ee84b">  448</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceutils.html#a5e1646b6a827eb4b57b130766d574583">utils::isUsedByTrack</a>(<a class="code" href="classTrackerHit.html">TrackerHit</a>* tracker_hit,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        EVENT::Track* lc_track) {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160; </div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    EVENT::TrackerHitVec trk_lc_tracker_hits = lc_track-&gt;getTrackerHits();</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> trk_lc_tracker_hit : trk_lc_tracker_hits) {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">if</span> (tracker_hit-&gt;<a class="code" href="classTrackerHit.html#a9c9659a6c6ba66b4107ba59c95a24241">getID</a>() ==  trk_lc_tracker_hit-&gt;id())</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;}</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160; </div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno"><a class="line" href="namespaceutils.html#a7e5c97f6c3d48e86b50baaefeb659369">  461</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="namespaceutils.html#a7e5c97f6c3d48e86b50baaefeb659369">utils::getParticlesFromVertex</a>(<a class="code" href="classVertex.html">Vertex</a>* <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#a0ba66fed21d976c0b188b1e975cb94c0">vtx</a>, <a class="code" href="classParticle.html">Particle</a>* ele, <a class="code" href="classParticle.html">Particle</a>* pos) {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160; </div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> ipart = 0; ipart &lt; <a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#a0ba66fed21d976c0b188b1e975cb94c0">vtx</a>-&gt;getParticles().GetEntries(); ++ipart) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordtype">int</span> pdg_id = ((<a class="code" href="classParticle.html">Particle</a>*)<a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#a0ba66fed21d976c0b188b1e975cb94c0">vtx</a>-&gt;getParticles().At(ipart))-&gt;getPDG();</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">if</span> (pdg_id == 11) {</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            ele = (<a class="code" href="classParticle.html">Particle</a>*)<a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#a0ba66fed21d976c0b188b1e975cb94c0">vtx</a>-&gt;getParticles().At(ipart);</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        }</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pdg_id == -11) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            pos = (<a class="code" href="classParticle.html">Particle</a>*)<a class="code" href="namespaceconfig_1_1kalSimpTuple__cfg.html#a0ba66fed21d976c0b188b1e975cb94c0">vtx</a>-&gt;getParticles().At(ipart);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160; </div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            std::cout&lt;&lt;<span class="stringliteral">&quot;Utilities::Wrong particle ID &quot;</span>&lt;&lt; pdg_id &lt;&lt;<span class="stringliteral">&quot;associated to vertex. Skip.&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160; </div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">if</span> (!ele || !pos) {</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        std::cout&lt;&lt;<span class="stringliteral">&quot;Utilities::Vertex formed without ele/pos. Skip.&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;}</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160; </div>
<div class="ttc" id="aECalDataProcessor_8h_html_ac2cde2846de17b59e2d372137b8dcb9c"><div class="ttname"><a href="ECalDataProcessor_8h.html#ac2cde2846de17b59e2d372137b8dcb9c">long64</a></div><div class="ttdeci">long long long64</div><div class="ttdef"><b>Definition:</b> <a href="ECalDataProcessor_8h_source.html#l00037">ECalDataProcessor.h:37</a></div></div>
<div class="ttc" id="aclassCalCluster_html"><div class="ttname"><a href="classCalCluster.html">CalCluster</a></div><div class="ttdef"><b>Definition:</b> <a href="CalCluster_8h_source.html#l00023">CalCluster.h:23</a></div></div>
<div class="ttc" id="aclassCalCluster_html_a22f0c3dd9d115832baf9e9ccecbee37f"><div class="ttname"><a href="classCalCluster.html#a22f0c3dd9d115832baf9e9ccecbee37f">CalCluster::setPosition</a></div><div class="ttdeci">void setPosition(const float *position)</div><div class="ttdef"><b>Definition:</b> <a href="CalCluster_8cxx_source.html#l00030">CalCluster.cxx:30</a></div></div>
<div class="ttc" id="aclassCalCluster_html_aa89352316465c459725ccb5610b19dd9"><div class="ttname"><a href="classCalCluster.html#aa89352316465c459725ccb5610b19dd9">CalCluster::setEnergy</a></div><div class="ttdeci">void setEnergy(const double energy)</div><div class="ttdef"><b>Definition:</b> <a href="CalCluster_8h_source.html#l00070">CalCluster.h:70</a></div></div>
<div class="ttc" id="aclassCalCluster_html_acb0ffd73929350f517aeba27c9463e7f"><div class="ttname"><a href="classCalCluster.html#acb0ffd73929350f517aeba27c9463e7f">CalCluster::setTime</a></div><div class="ttdeci">void setTime(const double time)</div><div class="ttdef"><b>Definition:</b> <a href="CalCluster_8h_source.html#l00080">CalCluster.h:80</a></div></div>
<div class="ttc" id="aclassParticle_html"><div class="ttname"><a href="classParticle.html">Particle</a></div><div class="ttdef"><b>Definition:</b> <a href="Particle_8h_source.html#l00024">Particle.h:24</a></div></div>
<div class="ttc" id="aclassParticle_html_a4ec278fd10816831508c72e35d461e17"><div class="ttname"><a href="classParticle.html#a4ec278fd10816831508c72e35d461e17">Particle::setGoodnessOfPID</a></div><div class="ttdeci">void setGoodnessOfPID(const double goodness_pid)</div><div class="ttdef"><b>Definition:</b> <a href="Particle_8h_source.html#l00084">Particle.h:84</a></div></div>
<div class="ttc" id="aclassParticle_html_a4f0e9db32ad4b89b376a4b6a20cf0fcf"><div class="ttname"><a href="classParticle.html#a4f0e9db32ad4b89b376a4b6a20cf0fcf">Particle::setPDG</a></div><div class="ttdeci">void setPDG(const int pdg)</div><div class="ttdef"><b>Definition:</b> <a href="Particle_8h_source.html#l00098">Particle.h:98</a></div></div>
<div class="ttc" id="aclassParticle_html_a50065a7bcb4b384286dfc32e0d06d3b7"><div class="ttname"><a href="classParticle.html#a50065a7bcb4b384286dfc32e0d06d3b7">Particle::setMass</a></div><div class="ttdeci">void setMass(const double mass)</div><div class="ttdef"><b>Definition:</b> <a href="Particle_8h_source.html#l00112">Particle.h:112</a></div></div>
<div class="ttc" id="aclassParticle_html_a8b3ca2d37e7a5399465649fb5fb49096"><div class="ttname"><a href="classParticle.html#a8b3ca2d37e7a5399465649fb5fb49096">Particle::setCharge</a></div><div class="ttdeci">void setCharge(const int charge)</div><div class="ttdef"><b>Definition:</b> <a href="Particle_8h_source.html#l00077">Particle.h:77</a></div></div>
<div class="ttc" id="aclassParticle_html_a96c2b792855a6d73ae08e9f56d46a9ad"><div class="ttname"><a href="classParticle.html#a96c2b792855a6d73ae08e9f56d46a9ad">Particle::setType</a></div><div class="ttdeci">void setType(const int type)</div><div class="ttdef"><b>Definition:</b> <a href="Particle_8h_source.html#l00091">Particle.h:91</a></div></div>
<div class="ttc" id="aclassParticle_html_a9a246cac55a414742052bc8f46218c6e"><div class="ttname"><a href="classParticle.html#a9a246cac55a414742052bc8f46218c6e">Particle::setMomentum</a></div><div class="ttdeci">void setMomentum(const double *momentum)</div><div class="ttdef"><b>Definition:</b> <a href="Particle_8cxx_source.html#l00023">Particle.cxx:23</a></div></div>
<div class="ttc" id="aclassParticle_html_aa2dd28c594c2b4ff2fc590c053067a47"><div class="ttname"><a href="classParticle.html#aa2dd28c594c2b4ff2fc590c053067a47">Particle::setTrack</a></div><div class="ttdeci">void setTrack(Track *track)</div><div class="ttdef"><b>Definition:</b> <a href="Particle_8h_source.html#l00042">Particle.h:42</a></div></div>
<div class="ttc" id="aclassParticle_html_aa89352316465c459725ccb5610b19dd9"><div class="ttname"><a href="classParticle.html#aa89352316465c459725ccb5610b19dd9">Particle::setEnergy</a></div><div class="ttdeci">void setEnergy(const double energy)</div><div class="ttdef"><b>Definition:</b> <a href="Particle_8h_source.html#l00105">Particle.h:105</a></div></div>
<div class="ttc" id="aclassParticle_html_ab83ad18659c25efdb72bd9c7c6f11189"><div class="ttname"><a href="classParticle.html#ab83ad18659c25efdb72bd9c7c6f11189">Particle::setCluster</a></div><div class="ttdeci">void setCluster(CalCluster *cluster)</div><div class="ttdef"><b>Definition:</b> <a href="Particle_8h_source.html#l00056">Particle.h:56</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html"><div class="ttname"><a href="classRawSvtHit.html">RawSvtHit</a></div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8h_source.html#l00021">RawSvtHit.h:21</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a15184e2d6fe8e166f5bedb6b5c436616"><div class="ttname"><a href="classRawSvtHit.html#a15184e2d6fe8e166f5bedb6b5c436616">RawSvtHit::setBarrel</a></div><div class="ttdeci">void setBarrel(int barrel)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00048">RawSvtHit.cxx:48</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a2c26993ecb697acfd52b60ff2c2624b3"><div class="ttname"><a href="classRawSvtHit.html#a2c26993ecb697acfd52b60ff2c2624b3">RawSvtHit::setSystem</a></div><div class="ttdeci">void setSystem(int system)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00044">RawSvtHit.cxx:44</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a338400c9c1f8653b6f76b9566f1cee79"><div class="ttname"><a href="classRawSvtHit.html#a338400c9c1f8653b6f76b9566f1cee79">RawSvtHit::setFit</a></div><div class="ttdeci">void setFit(double fit[5], int fitI)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00027">RawSvtHit.cxx:27</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a5b4df54b0e268839998175628116d79d"><div class="ttname"><a href="classRawSvtHit.html#a5b4df54b0e268839998175628116d79d">RawSvtHit::getLayer</a></div><div class="ttdeci">int getLayer()</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00088">RawSvtHit.cxx:88</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a8889167c257cff23dc1fb688471de7fd"><div class="ttname"><a href="classRawSvtHit.html#a8889167c257cff23dc1fb688471de7fd">RawSvtHit::setStrip</a></div><div class="ttdeci">void setStrip(int strip)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00068">RawSvtHit.cxx:68</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a8b6926403a4ea14c3b14a47af0adac78"><div class="ttname"><a href="classRawSvtHit.html#a8b6926403a4ea14c3b14a47af0adac78">RawSvtHit::setSensor</a></div><div class="ttdeci">void setSensor(int sensor)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00060">RawSvtHit.cxx:60</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a8fbf2f10efd0cf427a2d4b1ae92def4b"><div class="ttname"><a href="classRawSvtHit.html#a8fbf2f10efd0cf427a2d4b1ae92def4b">RawSvtHit::setSide</a></div><div class="ttdeci">void setSide(int side)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00064">RawSvtHit.cxx:64</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a9708d56d4159897347acc2bfcdce744d"><div class="ttname"><a href="classRawSvtHit.html#a9708d56d4159897347acc2bfcdce744d">RawSvtHit::getAmp</a></div><div class="ttdeci">double getAmp(int fitI)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8h_source.html#l00101">RawSvtHit.h:101</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_aef52f0e9464bb90383adba818fbfe7be"><div class="ttname"><a href="classRawSvtHit.html#aef52f0e9464bb90383adba818fbfe7be">RawSvtHit::setADCs</a></div><div class="ttdeci">void setADCs(int adcs[6])</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00035">RawSvtHit.cxx:35</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_aefd72f7f5df118b603e0f3020f537a5a"><div class="ttname"><a href="classRawSvtHit.html#aefd72f7f5df118b603e0f3020f537a5a">RawSvtHit::getModule</a></div><div class="ttdeci">int getModule()</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00092">RawSvtHit.cxx:92</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_af98897331f04479059afcac073d15360"><div class="ttname"><a href="classRawSvtHit.html#af98897331f04479059afcac073d15360">RawSvtHit::setFitN</a></div><div class="ttdeci">void setFitN(int fitN)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00023">RawSvtHit.cxx:23</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_afbd2fbd594c8ee140b028f505631f682"><div class="ttname"><a href="classRawSvtHit.html#afbd2fbd594c8ee140b028f505631f682">RawSvtHit::setLayer</a></div><div class="ttdeci">void setLayer(int layer)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00052">RawSvtHit.cxx:52</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_affd2ff44d4a988d312672fef9a9f6f72"><div class="ttname"><a href="classRawSvtHit.html#affd2ff44d4a988d312672fef9a9f6f72">RawSvtHit::setModule</a></div><div class="ttdeci">void setModule(int module)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00056">RawSvtHit.cxx:56</a></div></div>
<div class="ttc" id="aclassTrack_html"><div class="ttname"><a href="classTrack.html">Track</a></div><div class="ttdef"><b>Definition:</b> <a href="Track_8h_source.html#l00032">Track.h:32</a></div></div>
<div class="ttc" id="aclassTrack_html_a3f251561299bdaf6e3acefef6c7bf6af"><div class="ttname"><a href="classTrack.html#a3f251561299bdaf6e3acefef6c7bf6af">Track::getPhi</a></div><div class="ttdeci">double getPhi() const</div><div class="ttdef"><b>Definition:</b> <a href="Track_8h_source.html#l00088">Track.h:88</a></div></div>
<div class="ttc" id="aclassTrack_html_a4f0ac38a52ef74d7167b02e514d2232d"><div class="ttname"><a href="classTrack.html#a4f0ac38a52ef74d7167b02e514d2232d">Track::getChi2Ndf</a></div><div class="ttdeci">double getChi2Ndf() const</div><div class="ttdef"><b>Definition:</b> <a href="Track_8h_source.html#l00121">Track.h:121</a></div></div>
<div class="ttc" id="aclassTrack_html_a671056cd2b40700574324838f7a99143"><div class="ttname"><a href="classTrack.html#a671056cd2b40700574324838f7a99143">Track::getOmega</a></div><div class="ttdeci">double getOmega() const</div><div class="ttdef"><b>Definition:</b> <a href="Track_8h_source.html#l00090">Track.h:90</a></div></div>
<div class="ttc" id="aclassTrack_html_a872032bb26c1b5a2103ec9ee34a3408b"><div class="ttname"><a href="classTrack.html#a872032bb26c1b5a2103ec9ee34a3408b">Track::getD0</a></div><div class="ttdeci">double getD0() const</div><div class="ttdef"><b>Definition:</b> <a href="Track_8h_source.html#l00087">Track.h:87</a></div></div>
<div class="ttc" id="aclassTrack_html_a9dc9df56c8f1b2a740e645058348aa40"><div class="ttname"><a href="classTrack.html#a9dc9df56c8f1b2a740e645058348aa40">Track::getTanLambda</a></div><div class="ttdeci">double getTanLambda() const</div><div class="ttdef"><b>Definition:</b> <a href="Track_8h_source.html#l00091">Track.h:91</a></div></div>
<div class="ttc" id="aclassTrack_html_ac657325cfc2596e354e5262a9c264526"><div class="ttname"><a href="classTrack.html#ac657325cfc2596e354e5262a9c264526">Track::getZ0</a></div><div class="ttdeci">double getZ0() const</div><div class="ttdef"><b>Definition:</b> <a href="Track_8h_source.html#l00092">Track.h:92</a></div></div>
<div class="ttc" id="aclassTrackerHit_html"><div class="ttname"><a href="classTrackerHit.html">TrackerHit</a></div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00022">TrackerHit.h:22</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a14249dd02874bf12134f0d5241912490"><div class="ttname"><a href="classTrackerHit.html#a14249dd02874bf12134f0d5241912490">TrackerHit::setLayer</a></div><div class="ttdeci">void setLayer(const int layer)</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00106">TrackerHit.h:106</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a1c9289fa499243af8164eb1d851784a1"><div class="ttname"><a href="classTrackerHit.html#a1c9289fa499243af8164eb1d851784a1">TrackerHit::setVolume</a></div><div class="ttdeci">void setVolume(const int volume)</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00100">TrackerHit.h:100</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a2df57089ab769b31361900ffffb483a2"><div class="ttname"><a href="classTrackerHit.html#a2df57089ab769b31361900ffffb483a2">TrackerHit::addRawHit</a></div><div class="ttdeci">void addRawHit(TObject *rawhit)</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00115">TrackerHit.h:115</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a2f109bf8d5ff2fb4cd2693d7fe31bb70"><div class="ttname"><a href="classTrackerHit.html#a2f109bf8d5ff2fb4cd2693d7fe31bb70">TrackerHit::setCovarianceMatrix</a></div><div class="ttdeci">void setCovarianceMatrix(std::vector&lt; float &gt; cov)</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8cxx_source.html#l00070">TrackerHit.cxx:70</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a5f000855db408e735c6bc7ac6c39289c"><div class="ttname"><a href="classTrackerHit.html#a5f000855db408e735c6bc7ac6c39289c">TrackerHit::setID</a></div><div class="ttdeci">void setID(const int id)</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00122">TrackerHit.h:122</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a8e6e66284ccad34ec77830cf93e421a5"><div class="ttname"><a href="classTrackerHit.html#a8e6e66284ccad34ec77830cf93e421a5">TrackerHit::setRawCharge</a></div><div class="ttdeci">void setRawCharge(const double rawcharge)</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00095">TrackerHit.h:95</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a9c9659a6c6ba66b4107ba59c95a24241"><div class="ttname"><a href="classTrackerHit.html#a9c9659a6c6ba66b4107ba59c95a24241">TrackerHit::getID</a></div><div class="ttdeci">int getID() const</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00124">TrackerHit.h:124</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_aa0e4b074a508860d2898a0e2ff127d66"><div class="ttname"><a href="classTrackerHit.html#aa0e4b074a508860d2898a0e2ff127d66">TrackerHit::setCharge</a></div><div class="ttdeci">void setCharge(const double charge)</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00090">TrackerHit.h:90</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_acb0ffd73929350f517aeba27c9463e7f"><div class="ttname"><a href="classTrackerHit.html#acb0ffd73929350f517aeba27c9463e7f">TrackerHit::setTime</a></div><div class="ttdeci">void setTime(const double time)</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00073">TrackerHit.h:73</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_ad48e43b6f028fcbbb9ad7e7f29b38c31"><div class="ttname"><a href="classTrackerHit.html#ad48e43b6f028fcbbb9ad7e7f29b38c31">TrackerHit::setPosition</a></div><div class="ttdeci">void setPosition(const double *position, bool rotate=false, int type=0)</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8cxx_source.html#l00023">TrackerHit.cxx:23</a></div></div>
<div class="ttc" id="aclassVertex_html"><div class="ttname"><a href="classVertex.html">Vertex</a></div><div class="ttdef"><b>Definition:</b> <a href="Vertex_8h_source.html#l00021">Vertex.h:21</a></div></div>
<div class="ttc" id="aclassVertex_html_a1a189ebe733bd13292d9f3b7cece97c2"><div class="ttname"><a href="classVertex.html#a1a189ebe733bd13292d9f3b7cece97c2">Vertex::setPos</a></div><div class="ttdeci">void setPos(const float *pos, bool rotate=false)</div><div class="ttdef"><b>Definition:</b> <a href="Vertex_8cxx_source.html#l00039">Vertex.cxx:39</a></div></div>
<div class="ttc" id="aclassVertex_html_a38718cd3b3eaea72e89eed3915035c95"><div class="ttname"><a href="classVertex.html#a38718cd3b3eaea72e89eed3915035c95">Vertex::setVtxParameters</a></div><div class="ttdeci">void setVtxParameters(const std::vector&lt; float &gt; &amp;parameters)</div><div class="ttdef"><b>Definition:</b> <a href="Vertex_8cxx_source.html#l00054">Vertex.cxx:54</a></div></div>
<div class="ttc" id="aclassVertex_html_a5f000855db408e735c6bc7ac6c39289c"><div class="ttname"><a href="classVertex.html#a5f000855db408e735c6bc7ac6c39289c">Vertex::setID</a></div><div class="ttdeci">void setID(const int id)</div><div class="ttdef"><b>Definition:</b> <a href="Vertex_8h_source.html#l00075">Vertex.h:75</a></div></div>
<div class="ttc" id="aclassVertex_html_a9d98a59d4453e8b71e36dff35da0ea8d"><div class="ttname"><a href="classVertex.html#a9d98a59d4453e8b71e36dff35da0ea8d">Vertex::setType</a></div><div class="ttdeci">void setType(const std::string &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="Vertex_8h_source.html#l00072">Vertex.h:72</a></div></div>
<div class="ttc" id="aclassVertex_html_aa5fdb14072b54286239e89d73a49c073"><div class="ttname"><a href="classVertex.html#aa5fdb14072b54286239e89d73a49c073">Vertex::setProbability</a></div><div class="ttdeci">void setProbability(const float probability)</div><div class="ttdef"><b>Definition:</b> <a href="Vertex_8h_source.html#l00084">Vertex.h:84</a></div></div>
<div class="ttc" id="aclassVertex_html_acdcc221127f2db7b58a83ad7832fa493"><div class="ttname"><a href="classVertex.html#acdcc221127f2db7b58a83ad7832fa493">Vertex::setCovariance</a></div><div class="ttdeci">void setCovariance(const std::vector&lt; float &gt; &amp;vec)</div><div class="ttdef"><b>Definition:</b> <a href="Vertex_8cxx_source.html#l00035">Vertex.cxx:35</a></div></div>
<div class="ttc" id="aclassVertex_html_add635266c1cc210bb98622624a1e873f"><div class="ttname"><a href="classVertex.html#add635266c1cc210bb98622624a1e873f">Vertex::setChi2</a></div><div class="ttdeci">void setChi2(const double chi2)</div><div class="ttdef"><b>Definition:</b> <a href="Vertex_8h_source.html#l00044">Vertex.h:44</a></div></div>
<div class="ttc" id="anamespaceCollections_html_ae402e358f3b61b9fab89667a956b5253"><div class="ttname"><a href="namespaceCollections.html#ae402e358f3b61b9fab89667a956b5253">Collections::TRACK_DATA</a></div><div class="ttdeci">constexpr const char * TRACK_DATA</div><div class="ttdef"><b>Definition:</b> <a href="Collections_8h_source.html#l00041">Collections.h:41</a></div></div>
<div class="ttc" id="anamespaceconfig_1_1anaBhTuple__cfg_html_a61569f2965b7a369eb10b6d75d410d11"><div class="ttname"><a href="namespaceconfig_1_1anaBhTuple__cfg.html#a61569f2965b7a369eb10b6d75d410d11">config.anaBhTuple_cfg.int</a></div><div class="ttdeci">int</div><div class="ttdef"><b>Definition:</b> <a href="anaBhTuple__cfg_8py_source.html#l00006">anaBhTuple_cfg.py:6</a></div></div>
<div class="ttc" id="anamespaceconfig_1_1anaBhTuple__cfg_html_a7aead736a07eaf25623ad7bfa1f0ee2d"><div class="ttname"><a href="namespaceconfig_1_1anaBhTuple__cfg.html#a7aead736a07eaf25623ad7bfa1f0ee2d">config.anaBhTuple_cfg.type</a></div><div class="ttdeci">type</div><div class="ttdef"><b>Definition:</b> <a href="anaBhTuple__cfg_8py_source.html#l00006">anaBhTuple_cfg.py:6</a></div></div>
<div class="ttc" id="anamespaceconfig_1_1fitBL__cfg_html_a95f2e9e3b2b2d837f962bcfb58a2011e"><div class="ttname"><a href="namespaceconfig_1_1fitBL__cfg.html#a95f2e9e3b2b2d837f962bcfb58a2011e">config.fitBL_cfg.layer</a></div><div class="ttdeci">layer</div><div class="ttdef"><b>Definition:</b> <a href="fitBL__cfg_8py_source.html#l00040">fitBL_cfg.py:40</a></div></div>
<div class="ttc" id="anamespaceconfig_1_1kalSimpTuple__cfg_html_a0ba66fed21d976c0b188b1e975cb94c0"><div class="ttname"><a href="namespaceconfig_1_1kalSimpTuple__cfg.html#a0ba66fed21d976c0b188b1e975cb94c0">config.kalSimpTuple_cfg.vtx</a></div><div class="ttdeci">vtx</div><div class="ttdef"><b>Definition:</b> <a href="kalSimpTuple__cfg_8py_source.html#l00044">kalSimpTuple_cfg.py:44</a></div></div>
<div class="ttc" id="anamespaceconfig_1_1kalSimpTuple__cfg_html_adb5e2391917cad02d6ca0c5ab0a46149"><div class="ttname"><a href="namespaceconfig_1_1kalSimpTuple__cfg.html#adb5e2391917cad02d6ca0c5ab0a46149">config.kalSimpTuple_cfg.track</a></div><div class="ttdeci">track</div><div class="ttdef"><b>Definition:</b> <a href="kalSimpTuple__cfg_8py_source.html#l00037">kalSimpTuple_cfg.py:37</a></div></div>
<div class="ttc" id="anamespaceutils_html_a1ed2a27a078620b6befd9411673440da"><div class="ttname"><a href="namespaceutils.html#a1ed2a27a078620b6befd9411673440da">utils::decoder</a></div><div class="ttdeci">static UTIL::BitField64 decoder(&quot;system:6,barrel:3,layer:4,module:12,sensor:1,side:32:-2,strip:12&quot;)</div><div class="ttdoc">description</div></div>
<div class="ttc" id="anamespaceutils_html_a2d01ad798936250108f868400e1e3051"><div class="ttname"><a href="namespaceutils.html#a2d01ad798936250108f868400e1e3051">utils::buildCalCluster</a></div><div class="ttdeci">CalCluster * buildCalCluster(EVENT::Cluster *lc_cluster)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00106">utilities.cxx:106</a></div></div>
<div class="ttc" id="anamespaceutils_html_a38245351b04f5e711d627819b932fbd4"><div class="ttname"><a href="namespaceutils.html#a38245351b04f5e711d627819b932fbd4">utils::buildVertex</a></div><div class="ttdeci">Vertex * buildVertex(EVENT::Vertex *lc_vertex)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00031">utilities.cxx:31</a></div></div>
<div class="ttc" id="anamespaceutils_html_a3fa61a8f1fe762d57473f3193181a256"><div class="ttname"><a href="namespaceutils.html#a3fa61a8f1fe762d57473f3193181a256">utils::hasCollection</a></div><div class="ttdeci">bool hasCollection(EVENT::LCEvent *lc_event, const std::string &amp;collection)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00018">utilities.cxx:18</a></div></div>
<div class="ttc" id="anamespaceutils_html_a434b38abbf31e8df9d32eda0de82e2f9"><div class="ttname"><a href="namespaceutils.html#a434b38abbf31e8df9d32eda0de82e2f9">utils::addRawInfoTo3dHit</a></div><div class="ttdeci">bool addRawInfoTo3dHit(TrackerHit *tracker_hit, IMPL::TrackerHitImpl *lc_tracker_hit, EVENT::LCCollection *raw_svt_fits, std::vector&lt; RawSvtHit * &gt; *rawHits=nullptr, int type=0)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00380">utilities.cxx:380</a></div></div>
<div class="ttc" id="anamespaceutils_html_a5e1646b6a827eb4b57b130766d574583"><div class="ttname"><a href="namespaceutils.html#a5e1646b6a827eb4b57b130766d574583">utils::isUsedByTrack</a></div><div class="ttdeci">bool isUsedByTrack(IMPL::TrackerHitImpl *lc_tracker_hit, EVENT::Track *lc_track)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00435">utilities.cxx:435</a></div></div>
<div class="ttc" id="anamespaceutils_html_a6bd5c589b49d0a2b2404965d82f7fe51"><div class="ttname"><a href="namespaceutils.html#a6bd5c589b49d0a2b2404965d82f7fe51">utils::buildTrackerHit</a></div><div class="ttdeci">TrackerHit * buildTrackerHit(IMPL::TrackerHitImpl *lc_trackerHit, bool rotate=true, int type=0)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00346">utilities.cxx:346</a></div></div>
<div class="ttc" id="anamespaceutils_html_a721ed160b22a3a70f98dba79789df5c9"><div class="ttname"><a href="namespaceutils.html#a721ed160b22a3a70f98dba79789df5c9">utils::buildTrack</a></div><div class="ttdeci">Track * buildTrack(EVENT::Track *lc_track, EVENT::LCCollection *gbl_kink_data, EVENT::LCCollection *track_data)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00157">utilities.cxx:157</a></div></div>
<div class="ttc" id="anamespaceutils_html_a7e5c97f6c3d48e86b50baaefeb659369"><div class="ttname"><a href="namespaceutils.html#a7e5c97f6c3d48e86b50baaefeb659369">utils::getParticlesFromVertex</a></div><div class="ttdeci">bool getParticlesFromVertex(Vertex *vtx, Particle *ele, Particle *pos)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00461">utilities.cxx:461</a></div></div>
<div class="ttc" id="anamespaceutils_html_a8472a8f8efa0e72f364542ad79a5c697"><div class="ttname"><a href="namespaceutils.html#a8472a8f8efa0e72f364542ad79a5c697">utils::buildParticle</a></div><div class="ttdeci">Particle * buildParticle(EVENT::ReconstructedParticle *lc_particle, EVENT::LCCollection *gbl_kink_data, EVENT::LCCollection *track_data)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00056">utilities.cxx:56</a></div></div>
<div class="ttc" id="anamespaceutils_html_ac358ecc5a6e709ba4b0923fb312283d4"><div class="ttname"><a href="namespaceutils.html#ac358ecc5a6e709ba4b0923fb312283d4">utils::IsSameTrack</a></div><div class="ttdeci">bool IsSameTrack(Track *trk1, Track *trk2)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00142">utilities.cxx:142</a></div></div>
<div class="ttc" id="anamespaceutils_html_afd800cb48040eb2458c898be282a731c"><div class="ttname"><a href="namespaceutils.html#afd800cb48040eb2458c898be282a731c">utils::buildRawHit</a></div><div class="ttdeci">RawSvtHit * buildRawHit(EVENT::TrackerRawData *rawTracker_hit, EVENT::LCCollection *raw_svt_hit_fits)</div><div class="ttdef"><b>Definition:</b> <a href="utilities_8cxx_source.html#l00280">utilities.cxx:280</a></div></div>
<div class="ttc" id="autilities_8h_html"><div class="ttname"><a href="utilities_8h.html">utilities.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
