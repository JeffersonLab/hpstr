<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hpstr: analysis/src/ClusterHistos.cxx Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hpstr
   </div>
   <div id="projectbrief">The Heavy Photon Search Toolkit for Reconstruction (hpstr) provides an interface to physics data from the HPS experiment saved in the LCIO format and converts it into an ROOT based format.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_b8678fa8510b7ff9a55ffd4d18fd5e47.html">analysis</a></li><li class="navelem"><a class="el" href="dir_bc66cf0f7bc2a011134b03d878d297c1.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ClusterHistos.cxx</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ClusterHistos_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ClusterHistos_8h.html">ClusterHistos.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;TCanvas.h&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="classClusterHistos.html#a47456787062212de2ad468bbbd6f5bc2">    5</a></span>&#160;<a class="code" href="classClusterHistos.html#a47456787062212de2ad468bbbd6f5bc2">ClusterHistos::ClusterHistos</a>(<span class="keyword">const</span> std::string&amp; inputName):<a class="code" href="classHistoManager.html">HistoManager</a>(inputName) {</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a> = inputName;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    <a class="code" href="classClusterHistos.html#ae08c8c0a30c96131bc7d0cf9612877b9">mmapper_</a> = <span class="keyword">new</span> <a class="code" href="classModuleMapper.html">ModuleMapper</a>(2016);</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;}</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160; </div>
<div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="classClusterHistos.html#aa15938751f95c42c0ce2df1a2ba5acbb">   10</a></span>&#160;<a class="code" href="classClusterHistos.html#aa15938751f95c42c0ce2df1a2ba5acbb">ClusterHistos::~ClusterHistos</a>() {</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    std::cout&lt;&lt;<span class="stringliteral">&quot;Cleaning ClusterHistos&quot;</span>&lt;&lt;std::endl;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160; </div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="comment">//TODO understand why this crashes</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">       if (mmapper_) {</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">       delete mmapper_; </span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">       mmapper_=nullptr;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">       }</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="classClusterHistos.html#a96e7ae49d6f5b29fee6f77e6f6c4292d">cluSizeMap</a>.clear();</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="classClusterHistos.html#adc8841d31252c75ac662d2aba29cbdf2">chargeMap</a>.clear();</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="classClusterHistos.html#a4e16fcc476ba120a7c83247215cab325">chargeCorrectedMap</a>.clear();</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="classClusterHistos.html#a15259e718852841de7607c351eefcad0">cluPositionMap</a>.clear();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">for</span> (std::map&lt;std::string, TGraphErrors*&gt;::iterator it = <a class="code" href="classClusterHistos.html#ae87fb5e4b670749152368fe3c4d17ce3">baselineGraphs</a>.begin(); </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;            it!=<a class="code" href="classClusterHistos.html#ae87fb5e4b670749152368fe3c4d17ce3">baselineGraphs</a>.end(); ++it) {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keywordflow">if</span> (it-&gt;second) {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            <span class="keyword">delete</span> (it-&gt;second);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;            it-&gt;second = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        }</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    }</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="classClusterHistos.html#ae87fb5e4b670749152368fe3c4d17ce3">baselineGraphs</a>.clear();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;}</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="classClusterHistos.html#a728d0e7b28284868658460642b734ad7">   37</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classClusterHistos.html#a728d0e7b28284868658460642b734ad7">ClusterHistos::Define1DHistos</a>() {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="comment">//TODO improve this naming scheme</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    std::string h_name = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="comment">//Cluster position</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="classHistoManager.html#a8216c92895370ea61d7a8e527b0474f3">histos1d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_gz&quot;</span>] = <a class="code" href="classHistoManager.html#ab10c4e6288f32f72eff9fdc32966141b">plot1D</a>(<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_gz&quot;</span>,<span class="stringliteral">&quot;Global Z [mm]&quot;</span>,20000,-1000,2000);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="classClusterHistos.html#ae08c8c0a30c96131bc7d0cf9612877b9">mmapper_</a>-&gt;<a class="code" href="classModuleMapper.html#a6c18b3d8eaf215d60f1f9350ec29d3fb">getStrings</a>(<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ihm = 0; ihm&lt;<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>.size(); ihm++) {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        h_name = <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>[ihm]+<span class="stringliteral">&quot;_charge&quot;</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="classHistoManager.html#a8216c92895370ea61d7a8e527b0474f3">histos1d</a>[h_name] = <a class="code" href="classHistoManager.html#ab10c4e6288f32f72eff9fdc32966141b">plot1D</a>(h_name,<span class="stringliteral">&quot;charge&quot;</span>,100,0,10000);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        h_name = <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>[ihm]+<span class="stringliteral">&quot;_cluSize&quot;</span>;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="classHistoManager.html#a8216c92895370ea61d7a8e527b0474f3">histos1d</a>[h_name] = <a class="code" href="classHistoManager.html#ab10c4e6288f32f72eff9fdc32966141b">plot1D</a>(h_name,<span class="stringliteral">&quot;cluSize&quot;</span>,10,0,10);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="classClusterHistos.html#a96e7ae49d6f5b29fee6f77e6f6c4292d">cluSizeMap</a>[h_name]          = 0.;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <a class="code" href="classClusterHistos.html#adc8841d31252c75ac662d2aba29cbdf2">chargeMap</a>[h_name]           = 0.;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="classClusterHistos.html#a4e16fcc476ba120a7c83247215cab325">chargeCorrectedMap</a>[h_name]  = 0.;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="classClusterHistos.html#a15259e718852841de7607c351eefcad0">cluPositionMap</a>[h_name]      = 0.;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }<span class="comment">//half module plots</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno"><a class="line" href="classClusterHistos.html#aa0c8ed67148888b30aeec6405b8b16bd">   59</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classClusterHistos.html#aa0c8ed67148888b30aeec6405b8b16bd">ClusterHistos::Define2DHistos</a>() {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    std::string h_name = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">int</span> nbins = 1000;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordtype">float</span> pitch = 0.055;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordtype">float</span> startY = 0.700;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0T_vs_gy&quot;</span>] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0T_vs_gy&quot;</span>,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="stringliteral">&quot;Global Y [mm]&quot;</span>,nbins,startY,(nbins+1)*pitch,</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="stringliteral">&quot;edep&quot;</span>,100,0,1e-5);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0T_vs_gx&quot;</span>] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0T_vs_gx&quot;</span>,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="stringliteral">&quot;Global X [mm] &quot;</span>,80,-20,20,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="stringliteral">&quot;edep&quot;</span>,100,0,1e-5);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0B_vs_gy&quot;</span>] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0B_vs_gy&quot;</span>,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            <span class="stringliteral">&quot;Global Y [mm]&quot;</span>,nbins,startY,(nbins+1)*pitch,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="stringliteral">&quot;edep&quot;</span>,100,0,1e-5);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0B_vs_gx&quot;</span>] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0B_vs_gx&quot;</span>,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="stringliteral">&quot;Global X [mm] &quot;</span>,80,-20,20,</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="stringliteral">&quot;edep&quot;</span>,100,0,1e-5);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="comment">// location of the hits</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_gy_L0T_vs_gx&quot;</span>] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_gy_L0T_vs_gx&quot;</span>,</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="stringliteral">&quot;Global X [mm] &quot;</span>,400,-20,20,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="stringliteral">&quot;Global Y [mm]&quot;</span>,200,0,5);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_gy_L0B_vs_gx&quot;</span>] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_gy_L0B_vs_gx&quot;</span>,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="stringliteral">&quot;Global X [mm] &quot;</span>,400,-20,20,</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="stringliteral">&quot;Global Y [mm]&quot;</span>,200,0,5);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160; </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">//bin size must be multiple of 20 adc counts</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ihm = 0; ihm&lt;<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>.size(); ihm++) {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        h_name = <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>[ihm]+<span class="stringliteral">&quot;_charge_vs_stripPos&quot;</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[h_name] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(h_name,</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="stringliteral">&quot;Strip Position&quot;</span>,640,0,640,</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="stringliteral">&quot;charge&quot;</span>,100,0,10000);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        h_name = <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>[ihm]+<span class="stringliteral">&quot;_charge_vs_globRad&quot;</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[h_name] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(h_name,</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <span class="stringliteral">&quot;#sqrt{x^{2} + y^{2}}&quot;</span>,600,0,150,</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="stringliteral">&quot;charge&quot;</span>,100,0,10000);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="comment">//Charge with baseline substracted</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        h_name = <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>[ihm]+<span class="stringliteral">&quot;_charge_corrected_vs_stripPos&quot;</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[h_name] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(h_name,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                <span class="stringliteral">&quot;Strip Position&quot;</span>,640,0,640,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <span class="stringliteral">&quot;corrected charge&quot;</span>,100,0,10000);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">//sample 0 vs Strip</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        h_name = <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>[ihm]+<span class="stringliteral">&quot;_sample0_vs_stripPos&quot;</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[h_name] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(h_name,</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <span class="stringliteral">&quot;Strip Position&quot;</span>,640,0,640,</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <span class="stringliteral">&quot;sample0&quot;</span>,200,-2000,2000);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        h_name = <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>[ihm]+<span class="stringliteral">&quot;_sample1_vs_stripPos&quot;</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[h_name] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(h_name,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="stringliteral">&quot;Strip Position&quot;</span>,640,0,640,</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                <span class="stringliteral">&quot;sample1&quot;</span>,200,-2000,2000);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <span class="comment">//adc[0] (Sample 0) vs Amplitude</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        h_name = <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>[ihm]+<span class="stringliteral">&quot;_sample0_vs_Amp&quot;</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[h_name] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(h_name,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="stringliteral">&quot;Amp&quot;</span>,    100,0,10000,</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="stringliteral">&quot;Sample0&quot;</span>,200,-2000,2000);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="comment">//adc[1] (Sample 1) vs Amplitude</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        h_name = <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>[ihm]+<span class="stringliteral">&quot;_sample1_vs_Amp&quot;</span>;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[h_name] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(h_name,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                <span class="stringliteral">&quot;Amp&quot;</span>,    100,0,10000,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="stringliteral">&quot;Sample1&quot;</span>,200,-2000,2000);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160; </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        h_name = <a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+<a class="code" href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">half_module_names</a>[ihm]+<span class="stringliteral">&quot;_stripPos_vs_gy&quot;</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[h_name] = <a class="code" href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">plot2D</a>(h_name,</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <span class="stringliteral">&quot;Global Y [mm]&quot;</span>, nbins, startY, (nbins+1)* pitch,</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="stringliteral">&quot;strip Pos&quot;</span>, 640,0,640);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classClusterHistos.html#ad96564fb6373cedbe0e992f7e5e08b0d">  156</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classClusterHistos.html#ad96564fb6373cedbe0e992f7e5e08b0d">ClusterHistos::LoadOfflineBaselines</a>(<span class="keyword">const</span> std::string&amp; baselineFits) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    TFile *inFile = <span class="keyword">new</span> TFile((baselineFits).c_str(), <span class="stringliteral">&quot;READ&quot;</span>);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160; </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (!inFile) </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    TIter next(inFile-&gt;GetListOfKeys());</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    TKey *key;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">while</span> ((key = (TKey*)next())) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        std::string classname = key-&gt;GetClassName();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">if</span> (classname.find(<span class="stringliteral">&quot;TDirectoryFile&quot;</span>) != -1){</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            TDirectoryFile* tdir = (TDirectoryFile*) inFile-&gt;Get(key-&gt;GetName());</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            TGraphErrors* gr = (TGraphErrors*) tdir-&gt;Get(((std::string)(key-&gt;GetName())+<span class="stringliteral">&quot;_baseline_0&quot;</span>).c_str());</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            std::string grname = gr-&gt;GetName();</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;Loading baselines from graph &quot;</span> &lt;&lt; grname &lt;&lt; std::endl;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            grname = grname.substr(0,grname.find(<span class="stringliteral">&quot;_baseline_0&quot;</span>));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <a class="code" href="classClusterHistos.html#ae87fb5e4b670749152368fe3c4d17ce3">baselineGraphs</a>[grname] = gr;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            std::cout &lt;&lt; grname &lt;&lt; std::endl;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    inFile-&gt;Close();</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">delete</span> inFile;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    inFile = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="classClusterHistos.html#a3fd4cb37a3a3b2412eab5f4f497f6540">  185</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="classClusterHistos.html#a3fd4cb37a3a3b2412eab5f4f497f6540">ClusterHistos::LoadBaselineHistos</a>(<span class="keyword">const</span> std::string&amp; baselinesIn) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">//TFile *baselinesFile = new TFile((baselineFits_+&quot;/hpssvt_&quot;+baselineRun+&quot;_baselineFits.root&quot;).c_str());</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    TFile *baselinesFile = <span class="keyword">new</span> TFile((baselinesIn).c_str());</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keywordflow">if</span> (!baselinesFile) </div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    TDirectory* dir = baselinesFile-&gt;GetDirectory(<span class="stringliteral">&quot;baseline&quot;</span>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160; </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    TList* keyList = dir-&gt;GetListOfKeys();</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    TIter next(keyList);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    TKey* key;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="comment">//I assume that there are only TGraphErrors</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">//TObject* obj;</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">while</span> ( (key = (TKey*)next())) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">//obj = key-&gt;ReadObj();</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">//if (strcmp(obj-&gt;IsA()-&gt;GetName(),&quot;TGraphErrors&quot;) != 0 )</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="comment">//continue;</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="comment">//x values go from 0 to 512 (513 points) for L0-1. Last point is 0</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="comment">//x values go from 0 to 639 (640 points) for other layers</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        std::string graph_key = key-&gt;GetName();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        graph_key = graph_key.substr(graph_key.find(<span class="stringliteral">&quot;F&quot;</span>),4);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <a class="code" href="classClusterHistos.html#ae87fb5e4b670749152368fe3c4d17ce3">baselineGraphs</a>[graph_key] = (TGraphErrors*) (dir-&gt;Get(key-&gt;GetName()));</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">//for (std::map&lt;std::string,TGraphErrors*&gt;::iterator it = baselineGraphs.begin(); it!=baselineGraphs.end(); ++it)</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="comment">//std::cout&lt;&lt;it-&gt;first&lt;&lt;&quot; &quot; &lt;&lt;it-&gt;second-&gt;GetN()&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">//for (int point = 0 ; point &lt; baselineGraphs[&quot;F5H1&quot;]-&gt;GetN();point++) {</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">//Double_t x=-999;</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">//Double_t y=-999;</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="comment">//baselineGraphs[&quot;F5H1&quot;]-&gt;GetPoint(point,x,y);</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="comment">//std::cout&lt;&lt;point&lt;&lt;&quot; x &quot;&lt;&lt;x&lt;&lt;&quot; y &quot;&lt;&lt;y&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">//}</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    baselinesFile-&gt;Close();</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keyword">delete</span> baselinesFile;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    baselinesFile = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;}</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160; </div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160; </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="classClusterHistos.html#a86b195998846bbee8d953f384b58e3c4">  237</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classClusterHistos.html#a86b195998846bbee8d953f384b58e3c4">ClusterHistos::FillHistograms</a>(<a class="code" href="classTrackerHit.html">TrackerHit</a>* hit,<span class="keywordtype">float</span> weight) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    TRefArray rawhits_ = hit-&gt;<a class="code" href="classTrackerHit.html#aee8162dc29b2170faaf0fd47e54c4f1c">getRawHits</a>();</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">//int  iv      = -1;   // 0 top, 1 bottom</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">//int  it      = -1;   // 0 axial, 1 stereo</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="comment">//int  ily     = -1;   // 0-6</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">//TODO do this better</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160; </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">//std::cout&lt;&lt;&quot;Size:&quot; &lt;&lt;rawhits_-&gt;GetEntries()&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    std::string swTag = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> irh = 0; irh &lt; rawhits_.GetEntries(); ++irh) {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160; </div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        <a class="code" href="classRawSvtHit.html">RawSvtHit</a> * rawhit  = <span class="keyword">static_cast&lt;</span><a class="code" href="classRawSvtHit.html">RawSvtHit</a>*<span class="keyword">&gt;</span>(rawhits_.At(irh));</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="comment">//rawhit layers go from 1 to 14. Example: RawHit-&gt;Layer1 is layer0 axial on top and layer0 stereo in bottom.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        swTag = <span class="stringliteral">&quot;ly&quot;</span>+std::to_string(rawhit-&gt;<a class="code" href="classRawSvtHit.html#a5b4df54b0e268839998175628116d79d">getLayer</a>())+<span class="stringliteral">&quot;_m&quot;</span>+std::to_string(rawhit-&gt;<a class="code" href="classRawSvtHit.html#aefd72f7f5df118b603e0f3020f537a5a">getModule</a>());</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        std::string key = <a class="code" href="classClusterHistos.html#ae08c8c0a30c96131bc7d0cf9612877b9">mmapper_</a>-&gt;<a class="code" href="classModuleMapper.html#a1b41c7bca258c2ca38e119e6e39d0935">getStringFromSw</a>(swTag);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">//std::cout&lt;&lt;&quot;----&quot;&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="comment">//std::cout&lt;&lt;&quot;From Mapper      &quot;&lt;&lt;mmapper_-&gt;getStringFromSw(swTag)&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="comment">//std::cout&lt;&lt;&quot;----&quot;&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="comment">//2D cluster charge</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="classClusterHistos.html#adc8841d31252c75ac662d2aba29cbdf2">chargeMap</a>     [<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+key+<span class="stringliteral">&quot;_charge&quot;</span>]  += rawhit-&gt;<a class="code" href="classRawSvtHit.html#a9708d56d4159897347acc2bfcdce744d">getAmp</a>(0);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordtype">double</span> baseline = -999;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordtype">double</span> strip    = -999;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">        //2D cluster corrected charge</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">        if (baselineGraphs[mmapper_-&gt;getHwFromString(key)])</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">            baselineGraphs[mmapper_-&gt;getHwFromString(key)]-&gt;GetPoint(rawhit-&gt;getStrip(),strip,baseline);</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">            */</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordtype">float</span> sample0 = baseline - rawhit-&gt;<a class="code" href="classRawSvtHit.html#ad301db33438c718a864994ae7e2d96a5">getADCs</a>()[0];</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="keywordtype">float</span> sample1 = baseline - rawhit-&gt;<a class="code" href="classRawSvtHit.html#ad301db33438c718a864994ae7e2d96a5">getADCs</a>()[1]; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <a class="code" href="classClusterHistos.html#a4e16fcc476ba120a7c83247215cab325">chargeCorrectedMap</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+key+<span class="stringliteral">&quot;_charge&quot;</span>]  += (rawhit-&gt;<a class="code" href="classRawSvtHit.html#a9708d56d4159897347acc2bfcdce744d">getAmp</a>(0) + sample0);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+key+<span class="stringliteral">&quot;_sample0_vs_Amp&quot;</span>]-&gt;Fill(rawhit-&gt;<a class="code" href="classRawSvtHit.html#a9708d56d4159897347acc2bfcdce744d">getAmp</a>(0),sample0,weight);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+key+<span class="stringliteral">&quot;_sample1_vs_Amp&quot;</span>]-&gt;Fill(rawhit-&gt;<a class="code" href="classRawSvtHit.html#a9708d56d4159897347acc2bfcdce744d">getAmp</a>(0),sample1,weight);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+key+<span class="stringliteral">&quot;_sample0_vs_stripPos&quot;</span>]-&gt;Fill(rawhit-&gt;<a class="code" href="classRawSvtHit.html#a310cbf5bad976d908c0c816921f7e6cc">getStrip</a>(),-sample0,weight);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+key+<span class="stringliteral">&quot;_sample1_vs_stripPos&quot;</span>]-&gt;Fill(rawhit-&gt;<a class="code" href="classRawSvtHit.html#a310cbf5bad976d908c0c816921f7e6cc">getStrip</a>(),-sample1,weight);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160; </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="comment">//2D cluster size1</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="classClusterHistos.html#a96e7ae49d6f5b29fee6f77e6f6c4292d">cluSizeMap</a>    [<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+key+<span class="stringliteral">&quot;_cluSize&quot;</span>] ++;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="comment">//2D Weighted position numerator</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <a class="code" href="classClusterHistos.html#a15259e718852841de7607c351eefcad0">cluPositionMap</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_&quot;</span>+key+<span class="stringliteral">&quot;_charge&quot;</span>]  += rawhit-&gt;<a class="code" href="classRawSvtHit.html#a9708d56d4159897347acc2bfcdce744d">getAmp</a>(0)*rawhit-&gt;<a class="code" href="classRawSvtHit.html#a310cbf5bad976d908c0c816921f7e6cc">getStrip</a>();</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="comment">//std::cout&lt;&lt;&quot;rawhit-&gt;getStrip()::&quot;&lt;&lt;rawhit-&gt;getStrip()&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160; </div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">//TODO make this more efficient: useless to loop all over the possibilities</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">for</span> (std::map&lt;std::string, int&gt;::iterator it = <a class="code" href="classClusterHistos.html#a96e7ae49d6f5b29fee6f77e6f6c4292d">cluSizeMap</a>.begin(); it!=<a class="code" href="classClusterHistos.html#a96e7ae49d6f5b29fee6f77e6f6c4292d">cluSizeMap</a>.end(); ++it ) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">if</span> (it-&gt;second != 0) {</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <span class="comment">//std::cout&lt;&lt;&quot;Filling...&quot;&lt;&lt;it-&gt;first&lt;&lt;&quot; &quot;&lt;&lt;histos1d[it-&gt;first]&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <a class="code" href="classHistoManager.html#a8216c92895370ea61d7a8e527b0474f3">histos1d</a>[it-&gt;first]-&gt;Fill(it-&gt;second,weight);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="classClusterHistos.html#a96e7ae49d6f5b29fee6f77e6f6c4292d">cluSizeMap</a>[it-&gt;first]= 0;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }<span class="comment">// fills the maps</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="comment">//TODO make this more efficient: useless to loop all over the possibilities</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">for</span> (std::map&lt;std::string, double&gt;::iterator it = <a class="code" href="classClusterHistos.html#adc8841d31252c75ac662d2aba29cbdf2">chargeMap</a>.begin(); it!=<a class="code" href="classClusterHistos.html#adc8841d31252c75ac662d2aba29cbdf2">chargeMap</a>.end(); ++it ) {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="comment">//TODO make it better</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="comment">//Avoid comparing to 0.0 and check if there is a charge deposit on this </span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span> (it-&gt;second &gt; 1e-6) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160; </div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            std::string plotID = (it-&gt;first).substr(0,(it-&gt;first).find(<span class="stringliteral">&quot;_charge&quot;</span>));</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="comment">//it-&gt;second holds the charge</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;            <span class="comment">//it-&gt;first =  charge histogram name.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            <span class="keywordtype">double</span> charge = it-&gt;second;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <a class="code" href="classHistoManager.html#a8216c92895370ea61d7a8e527b0474f3">histos1d</a>[it-&gt;first]-&gt;Fill(charge,weight);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            <span class="keywordtype">double</span> weighted_pos = <a class="code" href="classClusterHistos.html#a15259e718852841de7607c351eefcad0">cluPositionMap</a>[it-&gt;first] / (charge);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordtype">double</span> chargeCorrected = <a class="code" href="classClusterHistos.html#a4e16fcc476ba120a7c83247215cab325">chargeCorrectedMap</a>[it-&gt;first];</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="comment">//std::cout&lt;&lt;&quot;weighted pos &quot;&lt;&lt;weighted_pos&lt;&lt;std::endl;</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[it-&gt;first+<span class="stringliteral">&quot;_vs_stripPos&quot;</span>]-&gt;Fill(weighted_pos,charge,weight);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="comment">// Fill the baseline corrected charge</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[it-&gt;first+<span class="stringliteral">&quot;_corrected_vs_stripPos&quot;</span>]-&gt;Fill(weighted_pos,chargeCorrected,weight);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <span class="comment">//Fill local vs global</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[plotID+<span class="stringliteral">&quot;_stripPos_vs_gy&quot;</span>]-&gt;Fill(fabs(hit-&gt;<a class="code" href="classTrackerHit.html#a037dbf33c23e4f394e56a71b8cb4e8ea">getGlobalY</a>()),weighted_pos,weight);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordtype">double</span> globRad = sqrt(hit-&gt;<a class="code" href="classTrackerHit.html#af728554d6b98ef0338fc52c1b20d844f">getGlobalX</a>() * hit-&gt;<a class="code" href="classTrackerHit.html#af728554d6b98ef0338fc52c1b20d844f">getGlobalX</a>() + hit-&gt;<a class="code" href="classTrackerHit.html#a037dbf33c23e4f394e56a71b8cb4e8ea">getGlobalY</a>()+hit-&gt;<a class="code" href="classTrackerHit.html#a037dbf33c23e4f394e56a71b8cb4e8ea">getGlobalY</a>());</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[it-&gt;first+<span class="stringliteral">&quot;_vs_globRad&quot;</span>]-&gt;Fill(globRad,charge,weight);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="classClusterHistos.html#adc8841d31252c75ac662d2aba29cbdf2">chargeMap</a>[it-&gt;first]          = 0.0;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <a class="code" href="classClusterHistos.html#a4e16fcc476ba120a7c83247215cab325">chargeCorrectedMap</a>[it-&gt;first] = 0.0;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <a class="code" href="classClusterHistos.html#a15259e718852841de7607c351eefcad0">cluPositionMap</a>[it-&gt;first]     = 0.0;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160; </div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        } </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="classHistoManager.html#a8216c92895370ea61d7a8e527b0474f3">histos1d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_gz&quot;</span>]-&gt;Fill(hit-&gt;<a class="code" href="classTrackerHit.html#a740175ec4578befac356d2102625d303">getGlobalZ</a>(),weight);</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="comment">//1D</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">//histos1d[m_name+&quot;_charge&quot;]-&gt;Fill(hit-&gt;getCharge(),weight);</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">//2D</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="keywordflow">if</span> (hit-&gt;<a class="code" href="classTrackerHit.html#a740175ec4578befac356d2102625d303">getGlobalZ</a>() &lt; 50 &amp;&amp; hit-&gt;<a class="code" href="classTrackerHit.html#a740175ec4578befac356d2102625d303">getGlobalZ</a>() &gt; 40) {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_gy_L0T_vs_gx&quot;</span>]-&gt;Fill(hit-&gt;<a class="code" href="classTrackerHit.html#af728554d6b98ef0338fc52c1b20d844f">getGlobalX</a>(),fabs(hit-&gt;<a class="code" href="classTrackerHit.html#a037dbf33c23e4f394e56a71b8cb4e8ea">getGlobalY</a>()),weight);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0T_vs_gx&quot;</span>]-&gt;Fill(hit-&gt;<a class="code" href="classTrackerHit.html#af728554d6b98ef0338fc52c1b20d844f">getGlobalX</a>(),hit-&gt;<a class="code" href="classTrackerHit.html#a5992d48fc1b21b13a88d0882c72ffa4c">getCharge</a>(),weight);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0T_vs_gy&quot;</span>]-&gt;Fill(fabs(hit-&gt;<a class="code" href="classTrackerHit.html#a037dbf33c23e4f394e56a71b8cb4e8ea">getGlobalY</a>()),hit-&gt;<a class="code" href="classTrackerHit.html#a5992d48fc1b21b13a88d0882c72ffa4c">getCharge</a>(),weight);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160; </div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160; </div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> (hit-&gt;<a class="code" href="classTrackerHit.html#a740175ec4578befac356d2102625d303">getGlobalZ</a>() &lt; 60 &amp;&amp; hit-&gt;<a class="code" href="classTrackerHit.html#a740175ec4578befac356d2102625d303">getGlobalZ</a>() &gt; 55) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_gy_L0B_vs_gx&quot;</span>]-&gt;Fill(hit-&gt;<a class="code" href="classTrackerHit.html#af728554d6b98ef0338fc52c1b20d844f">getGlobalX</a>(),fabs(hit-&gt;<a class="code" href="classTrackerHit.html#a037dbf33c23e4f394e56a71b8cb4e8ea">getGlobalY</a>()),weight);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0B_vs_gx&quot;</span>]-&gt;Fill(hit-&gt;<a class="code" href="classTrackerHit.html#af728554d6b98ef0338fc52c1b20d844f">getGlobalX</a>(),hit-&gt;<a class="code" href="classTrackerHit.html#a5992d48fc1b21b13a88d0882c72ffa4c">getCharge</a>(),weight);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <a class="code" href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">histos2d</a>[<a class="code" href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">m_name</a>+<span class="stringliteral">&quot;_charge_L0B_vs_gy&quot;</span>]-&gt;Fill(fabs(hit-&gt;<a class="code" href="classTrackerHit.html#a037dbf33c23e4f394e56a71b8cb4e8ea">getGlobalY</a>()),hit-&gt;<a class="code" href="classTrackerHit.html#a5992d48fc1b21b13a88d0882c72ffa4c">getCharge</a>(),weight);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div>
<div class="ttc" id="aClusterHistos_8h_html"><div class="ttname"><a href="ClusterHistos_8h.html">ClusterHistos.h</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_a15259e718852841de7607c351eefcad0"><div class="ttname"><a href="classClusterHistos.html#a15259e718852841de7607c351eefcad0">ClusterHistos::cluPositionMap</a></div><div class="ttdeci">std::map&lt; std::string, double &gt; cluPositionMap</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8h_source.html#l00104">ClusterHistos.h:104</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_a3fd4cb37a3a3b2412eab5f4f497f6540"><div class="ttname"><a href="classClusterHistos.html#a3fd4cb37a3a3b2412eab5f4f497f6540">ClusterHistos::LoadBaselineHistos</a></div><div class="ttdeci">bool LoadBaselineHistos(const std::string &amp;baselineRun)</div><div class="ttdoc">Load baseline histograms.</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8cxx_source.html#l00185">ClusterHistos.cxx:185</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_a47456787062212de2ad468bbbd6f5bc2"><div class="ttname"><a href="classClusterHistos.html#a47456787062212de2ad468bbbd6f5bc2">ClusterHistos::ClusterHistos</a></div><div class="ttdeci">ClusterHistos(const std::string &amp;inputName)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8cxx_source.html#l00005">ClusterHistos.cxx:5</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_a4853a716499cb51ef58a43fe55fabc24"><div class="ttname"><a href="classClusterHistos.html#a4853a716499cb51ef58a43fe55fabc24">ClusterHistos::half_module_names</a></div><div class="ttdeci">std::vector&lt; std::string &gt; half_module_names</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8h_source.html#l00092">ClusterHistos.h:92</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_a4e16fcc476ba120a7c83247215cab325"><div class="ttname"><a href="classClusterHistos.html#a4e16fcc476ba120a7c83247215cab325">ClusterHistos::chargeCorrectedMap</a></div><div class="ttdeci">std::map&lt; std::string, double &gt; chargeCorrectedMap</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8h_source.html#l00101">ClusterHistos.h:101</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_a728d0e7b28284868658460642b734ad7"><div class="ttname"><a href="classClusterHistos.html#a728d0e7b28284868658460642b734ad7">ClusterHistos::Define1DHistos</a></div><div class="ttdeci">virtual void Define1DHistos()</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8cxx_source.html#l00037">ClusterHistos.cxx:37</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_a86b195998846bbee8d953f384b58e3c4"><div class="ttname"><a href="classClusterHistos.html#a86b195998846bbee8d953f384b58e3c4">ClusterHistos::FillHistograms</a></div><div class="ttdeci">void FillHistograms(TrackerHit *hit, float weight=1.)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8cxx_source.html#l00237">ClusterHistos.cxx:237</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_a96e7ae49d6f5b29fee6f77e6f6c4292d"><div class="ttname"><a href="classClusterHistos.html#a96e7ae49d6f5b29fee6f77e6f6c4292d">ClusterHistos::cluSizeMap</a></div><div class="ttdeci">std::map&lt; std::string, int &gt; cluSizeMap</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8h_source.html#l00095">ClusterHistos.h:95</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_aa0c8ed67148888b30aeec6405b8b16bd"><div class="ttname"><a href="classClusterHistos.html#aa0c8ed67148888b30aeec6405b8b16bd">ClusterHistos::Define2DHistos</a></div><div class="ttdeci">virtual void Define2DHistos()</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8cxx_source.html#l00059">ClusterHistos.cxx:59</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_aa15938751f95c42c0ce2df1a2ba5acbb"><div class="ttname"><a href="classClusterHistos.html#aa15938751f95c42c0ce2df1a2ba5acbb">ClusterHistos::~ClusterHistos</a></div><div class="ttdeci">~ClusterHistos()</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8cxx_source.html#l00010">ClusterHistos.cxx:10</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_ad96564fb6373cedbe0e992f7e5e08b0d"><div class="ttname"><a href="classClusterHistos.html#ad96564fb6373cedbe0e992f7e5e08b0d">ClusterHistos::LoadOfflineBaselines</a></div><div class="ttdeci">bool LoadOfflineBaselines(const std::string &amp;baselineFits)</div><div class="ttdoc">Load offline baseline.</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8cxx_source.html#l00156">ClusterHistos.cxx:156</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_adc8841d31252c75ac662d2aba29cbdf2"><div class="ttname"><a href="classClusterHistos.html#adc8841d31252c75ac662d2aba29cbdf2">ClusterHistos::chargeMap</a></div><div class="ttdeci">std::map&lt; std::string, double &gt; chargeMap</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8h_source.html#l00098">ClusterHistos.h:98</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_ae08c8c0a30c96131bc7d0cf9612877b9"><div class="ttname"><a href="classClusterHistos.html#ae08c8c0a30c96131bc7d0cf9612877b9">ClusterHistos::mmapper_</a></div><div class="ttdeci">ModuleMapper * mmapper_</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8h_source.html#l00119">ClusterHistos.h:119</a></div></div>
<div class="ttc" id="aclassClusterHistos_html_ae87fb5e4b670749152368fe3c4d17ce3"><div class="ttname"><a href="classClusterHistos.html#ae87fb5e4b670749152368fe3c4d17ce3">ClusterHistos::baselineGraphs</a></div><div class="ttdeci">std::map&lt; std::string, TGraphErrors * &gt; baselineGraphs</div><div class="ttdef"><b>Definition:</b> <a href="ClusterHistos_8h_source.html#l00113">ClusterHistos.h:113</a></div></div>
<div class="ttc" id="aclassHistoManager_html"><div class="ttname"><a href="classHistoManager.html">HistoManager</a></div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="HistoManager_8h_source.html#l00022">HistoManager.h:22</a></div></div>
<div class="ttc" id="aclassHistoManager_html_a10335fa6c3b50bcc19eb80359bfb4d24"><div class="ttname"><a href="classHistoManager.html#a10335fa6c3b50bcc19eb80359bfb4d24">HistoManager::histos2d</a></div><div class="ttdeci">std::map&lt; std::string, TH2F * &gt; histos2d</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="HistoManager_8h_source.html#l00321">HistoManager.h:321</a></div></div>
<div class="ttc" id="aclassHistoManager_html_a26cebf7306e8cbc633738b311fc708b5"><div class="ttname"><a href="classHistoManager.html#a26cebf7306e8cbc633738b311fc708b5">HistoManager::plot2D</a></div><div class="ttdeci">TH2F * plot2D(std::string name, std::string xtitle, int nbinsX, float xmin, float xmax, std::string ytitle, int nbinsY, float ymin, float ymax)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="HistoManager_8cxx_source.html#l00187">HistoManager.cxx:187</a></div></div>
<div class="ttc" id="aclassHistoManager_html_a8216c92895370ea61d7a8e527b0474f3"><div class="ttname"><a href="classHistoManager.html#a8216c92895370ea61d7a8e527b0474f3">HistoManager::histos1d</a></div><div class="ttdeci">std::map&lt; std::string, TH1F * &gt; histos1d</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="HistoManager_8h_source.html#l00319">HistoManager.h:319</a></div></div>
<div class="ttc" id="aclassHistoManager_html_ab10c4e6288f32f72eff9fdc32966141b"><div class="ttname"><a href="classHistoManager.html#ab10c4e6288f32f72eff9fdc32966141b">HistoManager::plot1D</a></div><div class="ttdeci">TH1F * plot1D(const std::string &amp;name, const std::string &amp;xtitle, int nbinsX, float xmin, float xmax)</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="HistoManager_8cxx_source.html#l00173">HistoManager.cxx:173</a></div></div>
<div class="ttc" id="aclassHistoManager_html_adb41893ba19e889e56c559f25fc1a68a"><div class="ttname"><a href="classHistoManager.html#adb41893ba19e889e56c559f25fc1a68a">HistoManager::m_name</a></div><div class="ttdeci">std::string m_name</div><div class="ttdoc">description</div><div class="ttdef"><b>Definition:</b> <a href="HistoManager_8h_source.html#l00317">HistoManager.h:317</a></div></div>
<div class="ttc" id="aclassModuleMapper_html"><div class="ttname"><a href="classModuleMapper.html">ModuleMapper</a></div><div class="ttdef"><b>Definition:</b> <a href="ModuleMapper_8h_source.html#l00011">ModuleMapper.h:11</a></div></div>
<div class="ttc" id="aclassModuleMapper_html_a1b41c7bca258c2ca38e119e6e39d0935"><div class="ttname"><a href="classModuleMapper.html#a1b41c7bca258c2ca38e119e6e39d0935">ModuleMapper::getStringFromSw</a></div><div class="ttdeci">std::string getStringFromSw(const std::string &amp;key)</div><div class="ttdoc">Get the String From Sw.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleMapper_8h_source.html#l00065">ModuleMapper.h:65</a></div></div>
<div class="ttc" id="aclassModuleMapper_html_a6c18b3d8eaf215d60f1f9350ec29d3fb"><div class="ttname"><a href="classModuleMapper.html#a6c18b3d8eaf215d60f1f9350ec29d3fb">ModuleMapper::getStrings</a></div><div class="ttdeci">void getStrings(std::vector&lt; std::string &gt; &amp;strings)</div><div class="ttdoc">Get list of string modules.</div><div class="ttdef"><b>Definition:</b> <a href="ModuleMapper_8h_source.html#l00080">ModuleMapper.h:80</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html"><div class="ttname"><a href="classRawSvtHit.html">RawSvtHit</a></div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8h_source.html#l00021">RawSvtHit.h:21</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a310cbf5bad976d908c0c816921f7e6cc"><div class="ttname"><a href="classRawSvtHit.html#a310cbf5bad976d908c0c816921f7e6cc">RawSvtHit::getStrip</a></div><div class="ttdeci">int getStrip()</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00104">RawSvtHit.cxx:104</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a5b4df54b0e268839998175628116d79d"><div class="ttname"><a href="classRawSvtHit.html#a5b4df54b0e268839998175628116d79d">RawSvtHit::getLayer</a></div><div class="ttdeci">int getLayer()</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00088">RawSvtHit.cxx:88</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_a9708d56d4159897347acc2bfcdce744d"><div class="ttname"><a href="classRawSvtHit.html#a9708d56d4159897347acc2bfcdce744d">RawSvtHit::getAmp</a></div><div class="ttdeci">double getAmp(int fitI)</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8h_source.html#l00101">RawSvtHit.h:101</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_ad301db33438c718a864994ae7e2d96a5"><div class="ttname"><a href="classRawSvtHit.html#ad301db33438c718a864994ae7e2d96a5">RawSvtHit::getADCs</a></div><div class="ttdeci">int * getADCs()</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00076">RawSvtHit.cxx:76</a></div></div>
<div class="ttc" id="aclassRawSvtHit_html_aefd72f7f5df118b603e0f3020f537a5a"><div class="ttname"><a href="classRawSvtHit.html#aefd72f7f5df118b603e0f3020f537a5a">RawSvtHit::getModule</a></div><div class="ttdeci">int getModule()</div><div class="ttdef"><b>Definition:</b> <a href="RawSvtHit_8cxx_source.html#l00092">RawSvtHit.cxx:92</a></div></div>
<div class="ttc" id="aclassTrackerHit_html"><div class="ttname"><a href="classTrackerHit.html">TrackerHit</a></div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00022">TrackerHit.h:22</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a037dbf33c23e4f394e56a71b8cb4e8ea"><div class="ttname"><a href="classTrackerHit.html#a037dbf33c23e4f394e56a71b8cb4e8ea">TrackerHit::getGlobalY</a></div><div class="ttdeci">double getGlobalY() const</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00053">TrackerHit.h:53</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a5992d48fc1b21b13a88d0882c72ffa4c"><div class="ttname"><a href="classTrackerHit.html#a5992d48fc1b21b13a88d0882c72ffa4c">TrackerHit::getCharge</a></div><div class="ttdeci">double getCharge() const</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00093">TrackerHit.h:93</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_a740175ec4578befac356d2102625d303"><div class="ttname"><a href="classTrackerHit.html#a740175ec4578befac356d2102625d303">TrackerHit::getGlobalZ</a></div><div class="ttdeci">double getGlobalZ() const</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00056">TrackerHit.h:56</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_aee8162dc29b2170faaf0fd47e54c4f1c"><div class="ttname"><a href="classTrackerHit.html#aee8162dc29b2170faaf0fd47e54c4f1c">TrackerHit::getRawHits</a></div><div class="ttdeci">TRefArray getRawHits() const</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00036">TrackerHit.h:36</a></div></div>
<div class="ttc" id="aclassTrackerHit_html_af728554d6b98ef0338fc52c1b20d844f"><div class="ttname"><a href="classTrackerHit.html#af728554d6b98ef0338fc52c1b20d844f">TrackerHit::getGlobalX</a></div><div class="ttdeci">double getGlobalX() const</div><div class="ttdef"><b>Definition:</b> <a href="TrackerHit_8h_source.html#l00050">TrackerHit.h:50</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
