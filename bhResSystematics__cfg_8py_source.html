<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hpstr: processors/config/bhResSystematics_cfg.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hpstr
   </div>
   <div id="projectbrief">The Heavy Photon Search Toolkit for Reconstruction (hpstr) provides an interface to physics data from the HPS experiment saved in the LCIO format and converts it into an ROOT based format.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4ac0cf52b60bedb296701740c5b274e6.html">processors</a></li><li class="navelem"><a class="el" href="dir_1d18fa4e8d51235d9d849665a2bc63dc.html">config</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">bhResSystematics_cfg.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="bhResSystematics__cfg_8py.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html">    1</a></span>&#160;<span class="keyword">import</span> HpstrConf</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="keyword">import</span> sys</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">import</span> baseConfig</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; </div>
<div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a90eee7a4677ca8b1ed116364a24367f9">    5</a></span>&#160;parser = baseConfig.parser</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#ab0bede79c5f4cbed9c2cd932a0ace201">    7</a></span>&#160;parser.add_argument(<span class="stringliteral">&quot;-s&quot;</span>, <span class="stringliteral">&quot;--spec&quot;</span>, type=str, dest=<span class="stringliteral">&quot;mass_spec&quot;</span>,</div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a81ae9faedaa69e3e28e2960a0548df8d">    8</a></span>&#160;                    help=<span class="stringliteral">&quot;Name of mass spectrum histogram.&quot;</span>, metavar=<span class="stringliteral">&quot;mass_spec&quot;</span>,</div>
<div class="line"><a name="l00009"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#affb1327b18bf08a379d19eef89cf1ed1">    9</a></span>&#160;                    default=<span class="stringliteral">&quot;mass_tweak__p_tot_min_cut&quot;</span>)</div>
<div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a61569f2965b7a369eb10b6d75d410d11">   10</a></span>&#160;parser.add_argument(<span class="stringliteral">&quot;-m&quot;</span>, <span class="stringliteral">&quot;--mass&quot;</span>, type=int, dest=<span class="stringliteral">&quot;mass_hypo&quot;</span>,</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;                    help=<span class="stringliteral">&quot;Mass hypothesis in MeV.&quot;</span>, metavar=<span class="stringliteral">&quot;mass_hypo&quot;</span>, default=145)</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;parser.add_argument(<span class="stringliteral">&quot;-p&quot;</span>, <span class="stringliteral">&quot;--poly&quot;</span>, type=int, dest=<span class="stringliteral">&quot;poly_order&quot;</span>,</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;                    help=<span class="stringliteral">&quot;Polynomial order of background model.&quot;</span>, metavar=<span class="stringliteral">&quot;poly_order&quot;</span>, default=3)</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;parser.add_argument(<span class="stringliteral">&quot;-w&quot;</span>, <span class="stringliteral">&quot;--win&quot;</span>, type=int, dest=<span class="stringliteral">&quot;win_factor&quot;</span>,</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;                    help=<span class="stringliteral">&quot;Window factor for determining fit window size.&quot;</span>, metavar=<span class="stringliteral">&quot;win_factor&quot;</span>, default=11)</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;parser.add_argument(<span class="stringliteral">&quot;-M&quot;</span>, <span class="stringliteral">&quot;--bkg_model&quot;</span>, type=int, dest=<span class="stringliteral">&quot;bkg_model&quot;</span>, default=<span class="stringliteral">&quot;1&quot;</span>,</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;                    help=<span class="stringliteral">&quot;The type of background fit model. 0 = Chebyshev; 1 = Exponential Chebyshev; 2 = Legendre; 3 = Exponential Legendre.&quot;</span>, metavar=<span class="stringliteral">&quot;bkg_model&quot;</span>)</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;parser.add_argument(<span class="stringliteral">&quot;-N&quot;</span>, <span class="stringliteral">&quot;--num_iterations&quot;</span>, type=int, dest=<span class="stringliteral">&quot;num_iters&quot;</span>,</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;                    help=<span class="stringliteral">&quot;Number of iterations to run.&quot;</span>, metavar=<span class="stringliteral">&quot;num_iters&quot;</span>, default=1000)</div>
<div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a6a1bb6ed41f44b60e7bd83b0e9945aa7">   20</a></span>&#160;parser.add_argument(<span class="stringliteral">&quot;-S&quot;</span>, <span class="stringliteral">&quot;--res_sigma&quot;</span>, type=float, dest=<span class="stringliteral">&quot;res_sigma&quot;</span>,</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;                    help=<span class="stringliteral">&quot;Width of the Guassian distriubtion of the mass resolution.&quot;</span>, metavar=<span class="stringliteral">&quot;res_sigma&quot;</span>, default=0.05)</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;parser.add_argument(<span class="stringliteral">&quot;-f&quot;</span>, <span class="stringliteral">&quot;--func_file&quot;</span>, type=str, dest=<span class="stringliteral">&quot;function_file&quot;</span>,</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;                    help=<span class="stringliteral">&quot;The name of the file containing the mass resolution error parameterization function.&quot;</span>, metavar=<span class="stringliteral">&quot;function_file&quot;</span>, default=<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;parser.add_argument(<span class="stringliteral">&quot;-F&quot;</span>, <span class="stringliteral">&quot;--func_name&quot;</span>, type=str, dest=<span class="stringliteral">&quot;function_name&quot;</span>,</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;                    help=<span class="stringliteral">&quot;The name of the function object that describes the mass resolution parameterization.&quot;</span>, metavar=<span class="stringliteral">&quot;function_name&quot;</span>, default=<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;parser.add_argument(<span class="stringliteral">&quot;-u&quot;</span>, <span class="stringliteral">&quot;--num_toys&quot;</span>, type=int, dest=<span class="stringliteral">&quot;num_toys&quot;</span>,</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;                    help=<span class="stringliteral">&quot;Number of toys to generate.&quot;</span>, metavar=<span class="stringliteral">&quot;num_toys&quot;</span>, default=1000)</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;parser.add_argument(<span class="stringliteral">&quot;-U&quot;</span>, <span class="stringliteral">&quot;--num_toy_iterations&quot;</span>, type=int, dest=<span class="stringliteral">&quot;toy_num_iters&quot;</span>,</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                    help=<span class="stringliteral">&quot;Number of iterations to run.&quot;</span>, metavar=<span class="stringliteral">&quot;toy_num_iters&quot;</span>, default=100)</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a02eacfd40be9042ceb0f07547365203d">   31</a></span>&#160;options = parser.parse_args()</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160; </div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment"># Use the input file to set the output file name</span></div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#ac6a2407c8b36528c0c0308626dafab2c">   34</a></span>&#160;histo_file = options.inFilename</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a602f851bc6b7e66469757ded0bcc883e">   35</a></span>&#160;mass_hypo = options.mass_hypo/1000.0</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a448bf676d9cec8beea7ec942b1bda665">   36</a></span>&#160;poly_order = options.poly_order</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#aaeb6d041bee7e7d2ca23ed634cf7318a">   37</a></span>&#160;win_factor = options.win_factor</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a560a254329d4f78d58987cfb8ee8bd00">   38</a></span>&#160;out_file = <span class="stringliteral">&#39;%s/bhResSys_m%iw%ip%i.root&#39;</span> % (options.outDir, options.mass_hypo, win_factor, poly_order)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;print(<span class="stringliteral">&#39;Input File: %s&#39;</span> % histo_file)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;print(<span class="stringliteral">&#39;Output File: %s&#39;</span> % out_file)</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#ac483f6ce851c9ecd9fb835ff7551737c">   43</a></span>&#160;p = <a class="code" href="classHpstrConf_1_1Process.html">HpstrConf.Process</a>()</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#ae0f8262ae155d0cba15cec05d034c9e7">   45</a></span>&#160;p.run_mode = 2</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a929d203f1b0e6375eacf16ef281732bf">   46</a></span>&#160;p.skip_events = options.skip_events</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a7e223ec063df28c77178547bd0813464">   47</a></span>&#160;p.max_events = options.nevents</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"># Library containing processors</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;p.add_library(<span class="stringliteral">&quot;libprocessors&quot;</span>)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a638afc294d72dc4d3d31d263205cd23f">   56</a></span>&#160;bhressys = <a class="code" href="classHpstrConf_1_1Processor.html">HpstrConf.Processor</a>(<span class="stringliteral">&#39;bhtoys&#39;</span>, <span class="stringliteral">&#39;BhMassResSystematicsProcessor&#39;</span>)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;debug&quot;</span>] = 1</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;seed&quot;</span>] = 0</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;massSpectrum&quot;</span>] = options.mass_spec</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;mass_hypo&quot;</span>] = mass_hypo</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;poly_order&quot;</span>] = poly_order</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;win_factor&quot;</span>] = win_factor</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;bkg_model&quot;</span>] = options.bkg_model</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;num_iters&quot;</span>] = options.num_iters</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;res_sigma&quot;</span>] = options.res_sigma</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;function_file&quot;</span>] = options.function_file</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;function_name&quot;</span>] = options.function_name</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;num_toys&quot;</span>] = options.num_toys</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;bhressys.parameters[<span class="stringliteral">&quot;toy_num_iters&quot;</span>] = options.toy_num_iters</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment"># Sequence which the processors will run.</span></div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a3f9c3bf7e2cafc2c46df6d132ea658cc">   77</a></span>&#160;p.sequence = [bhressys]</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a27256609f574b662639e0a8cd48b8d3a">   79</a></span>&#160;p.input_files = [histo_file]</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="namespaceconfig_1_1bhResSystematics__cfg.html#a7882aa8b39a47102a13c2630137590d8">   80</a></span>&#160;p.output_files = [out_file]</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;p.printProcess()</div>
<div class="ttc" id="aclassHpstrConf_1_1Process_html"><div class="ttname"><a href="classHpstrConf_1_1Process.html">HpstrConf.Process</a></div><div class="ttdoc">Process python class.</div><div class="ttdef"><b>Definition:</b> <a href="HpstrConf_8py_source.html#l00020">HpstrConf.py:20</a></div></div>
<div class="ttc" id="aclassHpstrConf_1_1Processor_html"><div class="ttname"><a href="classHpstrConf_1_1Processor.html">HpstrConf.Processor</a></div><div class="ttdoc">Processor python class.</div><div class="ttdef"><b>Definition:</b> <a href="HpstrConf_8py_source.html#l00004">HpstrConf.py:4</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
